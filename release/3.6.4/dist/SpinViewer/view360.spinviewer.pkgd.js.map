{"version":3,"file":"view360.spinviewer.pkgd.js","sources":["../../src/version.ts","../../src/utils/utils.ts","../../src/utils/browser.ts","../../src/utils/browserFeature.ts","../../src/SpinViewer/consts.ts","../../src/SpinViewer/SpriteImage.ts","../../src/SpinViewer/SpinViewer.ts","../../src/SpinViewer/index.umd.ts"],"sourcesContent":["const VERSION = \"#__VERSION__#\";\n\nexport {\n  VERSION\n};\n","import { ImageCandidate, VideoCandidate } from \"../types/internal\";\nimport { Merged } from \"../types/internal\";\n\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport const merge = <From extends object, To extends object>(target: From, ...srcs: To[]): Merged<From, To> => {\n  srcs.forEach(source => {\n\t  Object.keys(source).forEach(key => {\n      const value = source[key];\n      if (Array.isArray(target[key]) && Array.isArray(value)) {\n        target[key] = [...target[key], ...value];\n      } else {\n        target[key] = value;\n      }\n\t  });\n  });\n\n  return target as Merged<From, To>;\n};\n\nexport const toImageElement = (image: ImageCandidate): HTMLImageElement | HTMLImageElement[] => {\n  const images = image instanceof Array ? image : [image];\n  const parsedImages = images.map(img => {\n    let imgEl = img;\n\n    if (typeof img === \"string\") {\n      imgEl = new Image();\n      imgEl.crossOrigin = \"anonymous\";\n      imgEl.src = img;\n    }\n    return imgEl as HTMLImageElement;\n  });\n\n  return parsedImages.length === 1\n    ? parsedImages[0]\n    : parsedImages;\n};\n\nexport const toVideoElement = (videoCandidate: VideoCandidate): HTMLVideoElement => {\n  if (videoCandidate instanceof HTMLVideoElement) {\n    return videoCandidate;\n  } else {\n    // url\n    const video = document.createElement(\"video\");\n    video.setAttribute(\"crossorigin\", \"anonymous\");\n    video.setAttribute(\"webkit-playsinline\", \"\");\n    video.setAttribute(\"playsinline\", \"\");\n\n    if (videoCandidate instanceof Array) {\n      videoCandidate.forEach(v => appendSourceElement(video, v));\n    } else {\n      appendSourceElement(video, videoCandidate);\n    }\n\n    const sourceCount = video.querySelectorAll(\"source\").length;\n    if (sourceCount > 0) {\n      if (video.readyState < 1) {\n        video.load();\n      }\n    }\n\n    return video;\n  }\n};\n\n/**\n *\n * @param {Object | String} videoUrl Object or String containing Video Source URL<ko>비디오 URL 정보를 담고 있는 문자열이나 객체 {type, src}</ko>\n */\nexport const appendSourceElement = (video: HTMLVideoElement, videoUrl: string | { src: string; type: string }) => {\n  let videoSrc: string | undefined;\n  let videoType: string | undefined;\n\n  if (typeof videoUrl === \"object\") {\n    videoSrc = videoUrl.src;\n    videoType = videoUrl.type;\n  } else if (typeof videoUrl === \"string\") {\n    videoSrc = videoUrl;\n  }\n\n  if (!videoSrc) {\n    return false;\n  }\n\n  const sourceElement = document.createElement(\"source\");\n\n  sourceElement.src = videoSrc;\n  if (videoType) {\n    sourceElement.type = videoType;\n  }\n\n  video.appendChild(sourceElement);\n};\n","/* eslint-disable @typescript-eslint/no-implied-eval */\n/**\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport getAgent from \"@egjs/agent\";\n\n/* eslint-disable no-new-func, no-nested-ternary */\nconst win = typeof window !== \"undefined\" && window.Math === Math\n  ? window\n  : typeof self !== \"undefined\" && self.Math === Math\n    ? self\n    : Function(\"return this\")();\n/* eslint-enable no-new-func, no-nested-ternary */\n\nconst doc = win.document;\nconst nav = win.navigator;\nconst agent = getAgent();\nconst osName = agent.os.name;\nconst browserName = agent.browser.name;\nconst IS_IOS = osName === \"ios\";\nconst IS_SAFARI_ON_DESKTOP = osName === \"mac\" && browserName === \"safari\";\nconst IS_SAMSUNG_BROWSER = browserName === \"samsung internet\";\n\nexport {\n  win as window,\n  doc as document,\n  nav as navigator,\n  IS_IOS,\n  IS_SAFARI_ON_DESKTOP,\n  IS_SAMSUNG_BROWSER\n};\n","/* eslint-disable @typescript-eslint/naming-convention */\n/**\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport { window as win, document as doc } from \"./browser\";\n\nwin.Float32Array = (typeof win.Float32Array !== \"undefined\") ? win.Float32Array : win.Array;\n\nconst Float32Array = win.Float32Array;\nconst getComputedStyle = win.getComputedStyle;\nconst userAgent = win.navigator && win.navigator.userAgent;\nconst SUPPORT_TOUCH = \"ontouchstart\" in win;\nconst SUPPORT_DEVICEMOTION = \"ondevicemotion\" in win;\nconst DeviceMotionEvent = win.DeviceMotionEvent;\nconst devicePixelRatio = win.devicePixelRatio;\n\nconst TRANSFORM = (() => {\n  const docStyle = doc?.documentElement.style ?? {};\n  const target = [\"transform\", \"webkitTransform\", \"msTransform\", \"mozTransform\"];\n\n  for (let i = 0, len = target.length; i < len; i++) {\n    if (target[i] in docStyle) {\n      return target[i];\n    }\n  }\n  return \"\";\n})();\n\n// check for will-change support\nconst SUPPORT_WILLCHANGE = win.CSS && win.CSS.supports &&\n\twin.CSS.supports(\"will-change\", \"transform\");\n\nlet WEBXR_SUPPORTED = false;\n\nconst checkXRSupport = () => {\n  const navigator = window.navigator as any;\n\n  if (!navigator.xr) {\n    return;\n  }\n\n  if (navigator.xr.isSessionSupported) {\n    navigator.xr.isSessionSupported(\"immersive-vr\").then(res => {\n      WEBXR_SUPPORTED = res;\n    }).catch(() => void 0);\n  } else if (navigator.xr.supportsSession) {\n    navigator.xr.supportsSession(\"immersive-vr\").then(res => {\n      WEBXR_SUPPORTED = res;\n    }).catch(() => void 0);\n  }\n};\n\nexport {\n  Float32Array,\n  getComputedStyle,\n  userAgent,\n  TRANSFORM,\n  SUPPORT_TOUCH,\n  SUPPORT_DEVICEMOTION,\n  SUPPORT_WILLCHANGE,\n  checkXRSupport,\n  WEBXR_SUPPORTED,\n  DeviceMotionEvent,\n  devicePixelRatio\n};\n\n","import { SpinViewerOptions, SpinViewerEvent } from \"./SpinViewer\";\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport const SPINVIEWER_OPTIONS: { [key in keyof SpinViewerOptions]: true } = {\n  imageUrl: true,\n  rowCount: true,\n  colCount: true,\n  width: true,\n  height: true,\n  autoHeight: true,\n  colRow: true,\n  scale: true,\n  frameIndex: true,\n  wrapperClass: true,\n  imageClass: true\n};\n\nexport const SPINVIEWER_EVENTS: {\n  [key: string]: keyof SpinViewerEvent;\n} = {\n  LOAD: \"load\",\n  IMAGE_ERROR: \"imageError\",\n  CHANGE: \"change\",\n  ANIMATION_END: \"animationEnd\"\n};\n\nexport const DEFAULT_WRAPPER_CLASS = \"view360-wrapper\";\nexport const DEFAULT_IMAGE_CLASS = \"view360-image\";\n","import Component, { ComponentEvent } from \"@egjs/component\";\n\nimport { TRANSFORM, SUPPORT_WILLCHANGE } from \"../utils/browserFeature\";\nimport { VERSION } from \"../version\";\n\nimport { SpinViewerOptions } from \"./SpinViewer\";\nimport { DEFAULT_IMAGE_CLASS, DEFAULT_WRAPPER_CLASS } from \"./consts\";\n\nexport interface SpriteImageEvent {\n  /**\n   * Events that occur when component loading is complete\n   * @ko 컴포넌트 로딩이 완료되면 발생하는 이벤트\n   * @name eg.view360.SpriteImage#load\n   * @event\n   * @param {Object} param The object of data to be sent to an event <ko>이벤트에 전달되는 데이터 객체</ko>\n   * @param {HTMLElement} param.target The target element for which to display the image <ko>이미지를 보여줄 대상 엘리먼트</ko>\n   * @param {HTMLElement} param.bgElement Generated background image element <ko>생성된 background 이미지 엘리먼트</ko>\n   *\n   * @example\n   *\n   * sprites.on({\n   *  \"load\" : function(evt) {\n   *    console.log(\"load event fired - e.target\", e.target, \"e.bgElement\", e.bgElement);\n   *  }\n   * });\n   */\n  load: {\n    target: HTMLElement;\n    bgElement: HTMLDivElement;\n  };\n  /**\n   * An event that occurs when the image index is changed by the user's left / right panning\n   * @ko 사용자의 좌우 Panning 에 의해 이미지 인덱스가 변경되었을때 발생하는 이벤트\n   * @name eg.view360.SpriteImage#imageError\n   * @event\n   * @param {Object} param The object of data to be sent to an event <ko>이벤트에 전달되는 데이터 객체</ko>\n   * @param {String} param.imageUrl User-specified image URL <ko>사용자가 지정한 이미지 URL</ko>\n   *\n   * @example\n   *\n   * sprites.on({\n   *  \"imageError\" : function(evt) {\n   *    // Error handling\n   *    console.log(e.imageUrl);\n   *  }\n   * });\n   */\n  imageError: {\n    imageUrl?: string;\n  };\n}\n\n/**\n * @memberof eg.view360\n * @extends eg.Component\n * SpriteImage\n */\nclass SpriteImage extends Component<SpriteImageEvent> {\n  private static _createBgDiv(wrapperInContainer: HTMLDivElement | null, img: HTMLImageElement, rowCount: number, colCount: number, autoHeight: boolean) {\n    const el = wrapperInContainer || document.createElement(\"div\");\n\n    el.style.position = \"relative\";\n    el.style.overflow = \"hidden\";\n\n    img.style.position = \"absolute\";\n    img.style.width = `${colCount * 100}%`;\n    img.style.height = `${rowCount * 100}%`;\n\n    /** Prevent image from being dragged on IE10, IE11, Safari especially */\n    img.ondragstart = () => (false); // img.style.pointerEvents = \"none\";\n    // Use hardware accelerator if available\n    if (SUPPORT_WILLCHANGE) {\n      (img.style.willChange = \"transform\");\n    }\n\n    el.appendChild(img);\n\n    const unitWidth = img.naturalWidth / colCount;\n    const unitHeight = img.naturalHeight / rowCount;\n\n    if (autoHeight) {\n      const r = unitHeight / unitWidth;\n\n      el.style.paddingBottom = `${r * 100}%`;\n    } else {\n      el.style.height = \"100%\";\n    }\n\n    return el;\n  }\n\n  private static _getSizeString(size) {\n    if (typeof size === \"number\") {\n      return `${size}px`;\n    }\n\n    return size;\n  }\n\n  public static VERSION = VERSION;\n\n  private _el: HTMLElement;\n  private _rowCount: number;\n  private _colCount: number;\n  private _totalCount: number;\n  private _width: number | string;\n  private _height: number | string;\n  private _autoHeight: boolean;\n  private _colRow: number[];\n  private _image: HTMLImageElement;\n  private _bg: HTMLDivElement;\n  private _autoPlayReservedInfo: { interval: number; playCount: number } | null;\n  private _autoPlayTimer: number;\n\n  /**\n   * @class eg.view360.SpriteImage\n   * @classdesc A module that displays a single or continuous image of any one of the \"sprite images\". SpinViewer internally uses SpriteImage to show each frame of the sprite image.\n   * @ko 스프라이트 이미지 중 임의의 한 프레임을 단발성 혹은 연속적으로 보여주는 컴포넌트입니다. SpinViewer 는 내부적으로 SpriteImage 를 사용하여 스프라이트 이미지의 각 프레임을 보여줍니다.\n   * @extends eg.Component\n   *\n   * @param {HTMLElement} element The element to show the image <ko>이미지를 보여줄 대상 요소</ko>\n   * @param {Object} options The option object<ko>파라미터 객체</ko>\n   * @param {String} options.imageUrl The url of the sprite image <ko>스프라이트 이미지의 url</ko>\n   * @param {Number} [options.rowCount=1] Number of horizontal frames in the sprite image <ko>스프라이트 이미지의 가로 프레임 갯수</ko>\n   * @param {Number} [options.colCount=1] Number of vertical frames in the sprite image <ko>스프라이트 이미지의 세로 프레임 갯수</ko>\n   * @param {Number|String} [options.width=\"auto\"] The width of the target element to show the image <ko>이미지를 보여줄 대상 요소의 너비</ko>\n   * @param {Number|String} [options.height=\"auto\"] The height of the target element to show the image <ko>이미지를 보여줄 대상 요소의 높이</ko>\n   * @param {Boolean} [options.autoHeight=true] Whether to automatically set the height of the image area to match the original image's proportion <ko>원본 이미지 비율에 맞게 이미지 영역의 높이를 자동으로 설정할지 여부</ko>\n   * @param {Number[]} [options.colRow=[0, 0]] The column, row coordinates of the first frame of the sprite image (based on 0 index) <ko> 스프라이트 이미지 중 처음 보여줄 프레임의 (column, row) 좌표 (0 index 기반)</ko>\n   * @param {Number} [options.frameIndex=0] frameIndex specifies the index of the frame to be displayed in the \"Sprite image\". The frameIndex order is zero-based and indexed in Z form (left-to-right, top-to-bottom, and newline again from left to right).<br>- colRow is equivalent to frameIndex. However, if colRow is specified at the same time, colRow takes precedence.<ko>스프라이트 이미지 중에서 보여질 프레임의 인덱스를 지정합니다. frameIndex 순서는 0부터 시작하며 Z 형태(왼쪽에서 오른쪽, 위에서 아래, 개행 시 다시 왼쪽 부터)로 인덱싱합니다.<br>- colRow 는 frameIndex 와 동일한 기능을 합니다. 단, colRow 가 동시에 지정된 경우 colRow 가 우선합니다.</ko>\n   * @param {Number} [options.scale=1] Spin scale (The larger the spin, the more).<ko>Spin 배율 (클 수록 더 많이 움직임)</ko>\n   *\n   * @support {\"ie\": \"9+\", \"ch\" : \"latest\", \"ff\" : \"latest\",  \"sf\" : \"latest\", \"edge\" : \"latest\", \"ios\" : \"7+\", \"an\" : \"2.3+ (except 3.x)\"}\n   * @example\n   *\n   * // Initialize SpriteImage\n   *\n   * var el = document.getElementById(\"image-div\");\n   * var sprites = new eg.view360.SpriteImage(el, {\n   * \timageUrl: \"/img/bag360.jpg\", // required\n   * \trowCount: 24\n   * });\n   */\n  public constructor(element: HTMLElement, options: Partial<SpinViewerOptions> = {}) {\n    super();\n    const opt = options || {};\n\n    this._el = element;\n    this._rowCount = opt.rowCount || 1;\n    this._colCount = opt.colCount || 1;\n    this._totalCount = this._rowCount * this._colCount; // total frames\n    this._width = opt.width || \"auto\";\n    this._height = opt.height || \"auto\";\n    this._autoHeight = opt.autoHeight != null ? opt.autoHeight : true; // If autoHeight is specified, _height will be overwritten.\n    this._colRow = [0, 0];\n\n    if (opt.colRow) {\n      this._colRow = opt.colRow;\n    } else if (opt.frameIndex) {\n      this.setFrameIndex(opt.frameIndex);\n    }\n\n    this._el.style.width = SpriteImage._getSizeString(this._width);\n    this._el.style.height = SpriteImage._getSizeString(this._height);\n\n    const wrapperClass = opt.wrapperClass || DEFAULT_WRAPPER_CLASS;\n    const imageClass = opt.imageClass || DEFAULT_IMAGE_CLASS;\n\n    if (!opt.imageUrl) {\n      setTimeout(() => {\n        this.trigger(new ComponentEvent(\"imageError\", {\n          imageUrl: opt.imageUrl\n        }));\n      }, 0);\n      return;\n    }\n\n    const imageInContainer = element.querySelector<HTMLImageElement>(`.${imageClass}`);\n    const wrapperInContainer = element.querySelector<HTMLDivElement>(`.${wrapperClass}`);\n\n    if (wrapperInContainer && imageInContainer) {\n      // Set it to invisible to prevent wrapper being resized\n      imageInContainer.style.display = \"none\";\n    }\n\n    this._image = imageInContainer || new Image();\n    /**\n     * Event\n     */\n\n    const image = this._image;\n\n    image.onload = () => {\n      if (wrapperInContainer && imageInContainer) {\n        imageInContainer.style.display = \"\";\n      }\n\n      this._bg = SpriteImage._createBgDiv(\n        wrapperInContainer,\n        image,\n        this._rowCount,\n        this._colCount,\n        this._autoHeight\n      );\n      this._el.appendChild(this._bg);\n      this.setColRow(this._colRow[0], this._colRow[1]);\n\n      this.trigger(new ComponentEvent(\"load\", {\n        target: this._el,\n        bgElement: this._bg\n      }));\n\n      if (this._autoPlayReservedInfo) {\n        this.play(this._autoPlayReservedInfo);\n        this._autoPlayReservedInfo = null;\n      }\n    };\n\n    image.onerror = () => {\n      this.trigger(new ComponentEvent(\"imageError\", {\n        imageUrl: opt.imageUrl\n      }));\n    };\n\n    image.src = opt.imageUrl;\n  }\n\n  /**\n   * Specifies the frameIndex of the frame to be shown in the sprite image.\n   * @ko 스프라이트 이미지 중 보여질 프레임의 frameIndex 값을 지정\n   * @method eg.view360.SpriteImage#setFrameIndex\n   * @param {Number} frameIndex frame index of a frame<ko>프레임의 인덱스</ko>\n   *\n   * @example\n   *\n   * sprites.setFrameIndex(0, 1);// col = 0, row = 1\n   */\n  public setFrameIndex(index: number) {\n    const colRow = this.toColRow(index);\n\n    this.setColRow(colRow[0], colRow[1]);\n  }\n\n  /**\n   * Returns the frameIndex of the frame to be shown in the sprite image.\n   * @ko 스프라이트 이미지 중 보여지는 프레임의 index 값을 반환\n   * @method eg.view360.SpriteImage#getFrameIndex\n   * @return {Number} frame index <ko>frame 인덱스</ko>\n   *\n   * @example\n   *\n   * var frameIndex = sprites.getFrameIndex(); // eg. frameIndex = 1\n   *\n   */\n  public getFrameIndex() {\n    return this._colRow[1] * this._colCount + this._colRow[0];\n  }\n\n  /**\n   * Specifies the col and row values of the frame to be shown in the sprite image.\n   * @ko 스프라이트 이미지 중 보여질 프레임의 col, row 값을 지정\n   * @method eg.view360.SpriteImage#setColRow\n   * @param {Number} col Column number of a frame<ko>프레임의 행값</ko>\n   * @param {Number} row Row number of a frame<ko>프레임의 열값</ko>\n   *\n   * @example\n   *\n   * sprites.setlColRow(1, 2); // col = 1, row = 2\n   */\n  public setColRow(col: number, row: number) {\n    if (row > this._rowCount - 1 || col > this._colCount - 1) {\n      return;\n    }\n\n    if (this._image && TRANSFORM) {\n      // NOTE: Currently, do not apply translate3D for using layer hack. Do we need layer hack for old browser?\n      this._image.style[TRANSFORM] = `translate(${-(col / this._colCount * 100)}%, ${-(row / this._rowCount * 100)}%)`;\n    }\n\n    this._colRow = [col, row];\n  }\n\n  /**\n   * Returns the col and row values of the frame to be shown in the sprite image.\n   * @ko 스프라이트 이미지 중 보여지는 프레임의 col, row 값을환반환\n   * @method eg.view360.SpriteImage#gelColRow\n   * @return {Number[]} Array containing col, row<ko>col, row 정보를 담는 배열</ko>\n   *\n   * @example\n   *\n   * var colRow = sprites.getlColRow();\n   * // colRow = [1, 2] - index of col is 1, index of row is 2\n   *\n   */\n  public getColRow() {\n    return this._colRow;\n  }\n\n  /**\n   * Stop playing\n   * @ko play 되고 있던 프레임 재생을 중지합니다.\n   * @method eg.view360.SpriteImage#stop\n   *\n   * @example\n   *\n   * viewer.stop();\n   *\n   */\n  public stop() {\n    if (this._autoPlayTimer) {\n      clearInterval(this._autoPlayTimer);\n      this._autoPlayTimer = -1;\n    }\n  }\n\n  /**\n   * Switches frames sequentially in the 'interval' starting from the currently displayed frame and plays all frames by 'playCount'.\n   * @ko 현재 보여지고 있는 프레임을 시작으로 'interval' 간격으로 순차적으로 프레임을 전환하며 모든 프레임을 'playCount' 만큼 재생한다.\n   * @method eg.view360.SpriteImage#play\n   * @param {Object} param The parameter object<ko>파라미터 객체</ko>\n   * @param {Number} [param.interval=1000 / totalFrameCount] Interframe Interval - in milliseconds<ko>프레임간 간격 - 밀리세컨드 단위</ko>\n   * @param {Number} [param.playCount=0] PlayCount = 1 in which all frames are reproduced once, and playCount = n in which all frames are repeated n times. playCount = 0 in which all frames are repeated infinitely<ko>모든 프레임을 1회씩 재생한 것이 playCount = 1, 모든 프레임을 n 회 재상한 것이 playCount = n 이 된다. 0 dms 무한반복</ko>\n   *\n   * @example\n   *\n   * viewer.play({angle: 16, playCount: 1});\n   *\n   */\n  public play({ interval, playCount } = { interval: 1000 / this._totalCount, playCount: 0 }) {\n    if (!this._bg) {\n      this._autoPlayReservedInfo = {interval, playCount};\n      return;\n    }\n\n    if (this._autoPlayTimer) {\n      clearInterval(this._autoPlayTimer);\n      this._autoPlayTimer = -1;\n    }\n\n    let frameIndex = this.getFrameIndex();\n    let count = 0;\n    let frameCount = 0; // for checking 1 cycle\n\n    this._autoPlayTimer = window.setInterval(() => {\n      frameIndex %= this._totalCount;\n      const colRow = this.toColRow(frameIndex);\n\n      this.setColRow(colRow[0], colRow[1]);\n      frameIndex++;\n\n      // Done 1 Cycle?\n      if (++frameCount === this._totalCount) {\n        frameCount = 0;\n        count++;\n      }\n\n      if (playCount > 0 && count === playCount) {\n        clearInterval(this._autoPlayTimer);\n      }\n    }, interval);\n  }\n\n  public toColRow(frameIndex: number) {\n    const colCount = this._colCount;\n    const rowCount = this._rowCount;\n\n    if (frameIndex < 0) {\n      return [0, 0];\n    } else if (frameIndex >= this._totalCount) {\n      return [colCount - 1, rowCount - 1];\n    }\n\n    const col = frameIndex % colCount;\n    const row = Math.floor(frameIndex / colCount);\n\n    // console.log(frameIndex, col, row);\n    return [col, row];\n  }\n}\n\nexport default SpriteImage;\n","import Component, { ComponentEvent } from \"@egjs/component\";\nimport Axes, { PanInput } from \"@egjs/axes\";\n\nimport { VERSION } from \"../version\";\nimport { AnimationEndEvent, ChangeEvent, ImageErrorEvent, LoadEvent } from \"../types/event\";\n\nimport SpriteImage from \"./SpriteImage\";\n\nconst DEFAULT_PAN_SCALE = 0.21;\n\nexport interface SpinViewerEvent {\n  load: LoadEvent;\n  imageError: ImageErrorEvent;\n  change: ChangeEvent;\n  animationEnd: AnimationEndEvent<SpinViewer>;\n}\n\nexport interface SpinViewerOptions {\n  imageUrl: string;\n  rowCount: number;\n  colCount: number;\n  width: number | string;\n  height: number | string;\n  autoHeight: boolean;\n  colRow: number[];\n  scale: number;\n  frameIndex: number;\n  wrapperClass: string;\n  imageClass: string;\n}\n\n/**\n * @memberof eg.view360\n * @extends eg.Component\n * SpinViewer\n */\nclass SpinViewer extends Component<SpinViewerEvent> {\n  /**\n   * Version info string\n   * @ko 버전정보 문자열\n   * @static\n   * @example\n   * eg.view360.SpinViewer.VERSION;  // ex) 3.0.1\n   * @memberof eg.view360.SpinViewer\n   */\n  public static VERSION = VERSION;\n\n  private _el: HTMLElement;\n  private _sprites: SpriteImage;\n  private _axes: Axes;\n  private _panInput: PanInput;\n\n  private _scale: number;\n  private _panScale: number;\n  private _frameCount: number;\n\n  /**\n   * @classdesc A module used to displays each image sequentially according to the direction of the user's touch movement (left / right) of the sprite image that is collected by rotating the object.\n   * @ko 물체 주위를 회전하여 촬영한 이미지들을 모은 스프라이트 이미지를 사용자의 터치 이동 방향(좌 / 우) 에 따라 각 이미지들을 순차적으로 보여주는 컴포넌트입니다.\n   *\n   * @param {HTMLElement} element The element to show the image <ko>이미지를 보여줄 대상 요소</ko>\n   * @param {Object} options The option object<ko>파라미터 객체</ko>\n   * @param {String} options.imageUrl The url of the sprite image <ko>스프라이트 이미지의 url</ko>\n   * @param {Number} [options.rowCount=1] Number of horizontal frames in the sprite image <ko>스프라이트 이미지의 가로 프레임 갯수</ko>\n   * @param {Number} [options.colCount=1] Number of vertical frames in the sprite image <ko>스프라이트 이미지의 세로 프레임 갯수</ko>\n   * @param {Number|String} [options.width=\"auto\"] The width of the target element to show the image <ko>이미지를 보여줄 대상 요소의 너비</ko>\n   * @param {Number|String} [options.height=\"auto\"] The height of the target element to show the image <ko>이미지를 보여줄 대상 요소의 높이</ko>\n   * @param {Boolean} [options.autoHeight=true] Whether to automatically set the height of the image area to match the original image's proportion <ko>원본 이미지 비율에 맞게 이미지 영역의 높이를 자동으로 설정할지 여부</ko>\n   * @param {Number[]} [options.colRow=[0, 0]] The column, row coordinates of the first frame of the sprite image (based on 0 index) <ko> 스프라이트 이미지 중 처음 보여줄 프레임의 (column, row) 좌표 (0 index 기반)</ko>\n   * @param {Number} [options.scale=1] Spin scale (The larger the spin, the more).<ko>Spin 배율 (클 수록 더 많이 움직임)</ko>\n   * @param {Number} [options.frameIndex] The frameIndex of the frame to be shown in the sprite image<ko>스프라이트 이미지 중 보여질 프레임의 frameIndex 값</ko>\n   * @param {String} [options.wrapperClass=\"view360-wrapper\"] A class name for the parent element of the image element inside the container element. SpinViewer will use the element that has this class instead of creating one if it exists<ko>이미지 엘리먼트의 부모 엘리먼트의 클래스 이름. SpinViewer는 해당 클래스를 갖는 엘리먼트가 콘테이너 엘리먼트 내부에 존재할 경우, 새로 생성하는 대신 그 엘리먼트를 사용할 것입니다</ko>\n   * @param {String} [options.imageClass=\"view360-image\"] A class name for the image element inside the container element. SpinViewer will use the image element that has this class instead of creating one if it exists<ko>콘테이너 엘리먼트 내부의 이미지 엘리먼트의 클래스 이름. SpinViewer는 해당 클래스를 갖는 이미지 엘리먼트가 콘테이너 엘리먼트 내부에 존재할 경우, 새로 생성하는 대신 그 엘리먼트를 사용할 것입니다</ko>\n   * @support {\"ie\": \"9+\", \"ch\" : \"latest\", \"ff\" : \"latest\",  \"sf\" : \"latest\", \"edge\" : \"latest\", \"ios\" : \"7+\", \"an\" : \"2.3+ (except 3.x)\"}\n   * @example\n   * ```\n   * // Initialize SpinViewer\n   * var el = document.getElementById(\"product-360\");\n   * var viewer = new eg.view360.SpinViewer(el, {\n   * \timageUrl: \"/img/bag360.jpg\", // required\n   * \trowCount: 24 //required\n   * });\n   * ```\n   */\n  public constructor(element: HTMLElement, options: Partial<SpinViewerOptions> = {}) {\n    super();\n\n    this._el = element;\n\n    const opt = {...options};\n    const colCount = opt.colCount || 1;\n    const rowCount = opt.rowCount || 1;\n\n    this._scale = (opt.scale || 1);\n    this._panScale = this._scale * DEFAULT_PAN_SCALE;\n\n    this._frameCount = colCount * rowCount;\n\n    // Init SpriteImage\n    this._sprites = new SpriteImage(element, opt).on({\n      \"load\": evt => {\n        this.trigger(new ComponentEvent(\"load\", evt));\n      },\n      \"imageError\": evt => {\n        this.trigger(new ComponentEvent(\"imageError\", {\n          imageUrl: evt.imageUrl\n        }));\n      }\n    });\n\n    // Init Axes\n    this._panInput = new PanInput(this._el, {\n      scale: [this._panScale, this._panScale]\n    });\n    this._axes = new Axes({\n      angle: {\n        range: [0, 359],\n        circular: true\n      }\n    }).on({\n      \"change\": evt => {\n        const curr = Math.floor(evt.pos.angle / (360 / this._frameCount));\n        const frameIndex = this._frameCount - curr - 1;\n\n        this._sprites.setFrameIndex(frameIndex);\n\n        this.trigger(new ComponentEvent(\"change\", {\n          frameIndex,\n          colRow: this._sprites.getColRow(),\n          angle: evt.pos.angle\n        }));\n      },\n      \"animationEnd\": evt => {\n        this.trigger(new ComponentEvent(\"animationEnd\", {\n          isTrusted: evt.isTrusted\n        }));\n      }\n    });\n\n    this._axes.connect(\"angle\", this._panInput);\n  }\n\n  /**\n   * Set spin scale\n   * @ko scale 을 조정할 수 있는 함수\n   * @param {Number} scale Rotation multiples at spin, the larger the rotation<ko>Spin 시 회전 배수값, 커질 수록 더 많이 회전</ko>\n   *\n   * @return {Object} Instance of SpinViewer <ko>SpinViewer 인스턴스</ko>\n   *\n   * @example\n   * viewer.setScale(2);// It moves twice as much.\n   */\n  public setScale(scale: number) {\n    if (isNaN(scale) || scale < 0) {\n      return this;\n    }\n\n    this._scale = scale;\n    this._panScale = scale * DEFAULT_PAN_SCALE;\n    this._panInput.options.scale = [this._panScale, this._panScale];\n\n    return this;\n  }\n\n  /**\n   * Get spin scale\n   * @ko scale 값을 반환한다.\n   *\n   * @return {Number} Rotation multiples at spin, the larger the rotation<ko>Spin 시 회전 배수값, 커질 수록 더 많이 회전</ko>\n   *\n   * @example\n   * viewer.getScale();// It returns number\n   */\n  public getScale() {\n    return this._scale;\n  }\n\n  /**\n   * It gives the effect of rotating for a certain duration by the specified angle based on the current rotation angle.\n   * @ko 현재 회전 각도를 기준으로 지정된 각도(angle)만큼 일정 시간동안(duration) 회전하는 효과를 준다.\n   * @param {Number} [angle = 0] angle<ko>상대적 회전 각도</ko>\n   * @param {Object} param The parameter object<ko>파라미터 객체</ko>\n   * @param {Number} [param.duration = 0] duration<ko>회전할 시간 - 밀리세컨드 단위</ko>\n   *\n   * @return {Object} Instance of SpinViewer <ko>SpinViewer 인스턴스</ko>\n   *\n   * @example\n   * viewer.spinBy(720, {duration: 500});\n   */\n  public spinBy(angle = 0, param = {duration: 0}) {\n    this._axes.setBy({angle}, param.duration);\n    return this;\n  }\n\n  /**\n   * It gives the effect of rotating for a certain duration (duration) by the specified angle (angle).\n   * @ko 지정된 각도(angle)만큼 일정 시간동안(duration) 회전하는 효과를 준다.\n   * @param {Number} [angle = 0] angle<ko>회전 각도</ko>\n   * @param {Object} param The parameter object<ko>파라미터 객체</ko>\n   * @param {Number} [param.duration = 0] duration<ko>회전할 시간 - 밀리세컨드 단위</ko>\n   *\n   * @return {Object} Instance of SpinViewer <ko>SpinViewer 인스턴스</ko>\n   *\n   * @example\n   * viewer.spinTo(30, {duration:100});\n   */\n  public spinTo(angle = 0, param = {duration: 0}) {\n    this._axes.setTo({angle}, param.duration);\n    return this;\n  }\n\n  /**\n   * Returns current angles\n   * @ko 현재 각도를 반환한다.\n   *\n   * @return {Number} Current angle <ko>현재 각도</ko>\n   */\n  public getAngle() {\n    return this._axes.get().angle || 0;\n  }\n}\n\nexport default SpinViewer;\n","/* eslint-disable @typescript-eslint/naming-convention */\nimport { VERSION } from \"../version\";\nimport { merge } from \"../utils/utils\";\n\nimport SpinViewer from \"./SpinViewer\";\nimport SpriteImage from \"./SpriteImage\";\nimport * as Constants from \"./consts\";\n\nconst SpinViewerModule = {\n  SpinViewer,\n  SpriteImage,\n  VERSION\n};\n\nmerge(SpinViewerModule, Constants);\n\nexport default SpinViewerModule;\n"],"names":["VERSION","merge","target","_i","srcs","forEach","source","Object","keys","key","value","Array","isArray","win","window","Math","self","Function","doc","document","nav","navigator","agent","getAgent","osName","os","name","browserName","browser","Float32Array","getComputedStyle","userAgent","DeviceMotionEvent","devicePixelRatio","TRANSFORM","docStyle","documentElement","style","i","len","length","SUPPORT_WILLCHANGE","CSS","supports","SPINVIEWER_OPTIONS","imageUrl","rowCount","colCount","width","height","autoHeight","colRow","scale","frameIndex","wrapperClass","imageClass","SPINVIEWER_EVENTS","LOAD","IMAGE_ERROR","CHANGE","ANIMATION_END","DEFAULT_WRAPPER_CLASS","DEFAULT_IMAGE_CLASS","__extends","element","options","_super","opt","_this","_el","_rowCount","_colCount","_totalCount","_width","_height","_autoHeight","_colRow","setFrameIndex","SpriteImage","_getSizeString","setTimeout","trigger","ComponentEvent","imageInContainer","querySelector","wrapperInContainer","display","_image","Image","image","onload","_bg","_createBgDiv","appendChild","setColRow","bgElement","_autoPlayReservedInfo","play","onerror","src","img","el","createElement","position","overflow","ondragstart","willChange","unitWidth","naturalWidth","unitHeight","naturalHeight","r","paddingBottom","size","index","toColRow","col","row","_autoPlayTimer","clearInterval","_a","_b","interval","playCount","getFrameIndex","count","frameCount","setInterval","floor","Component","DEFAULT_PAN_SCALE","_scale","_panScale","_frameCount","_sprites","on","evt","_panInput","PanInput","_axes","Axes","angle","range","circular","curr","pos","getColRow","isTrusted","connect","isNaN","param","duration","setBy","setTo","get","SpinViewer","SpinViewerModule","Constants"],"mappings":";;;;;;;;;;;;;;EAAA,IAAMA,OAAO,GAAG,OAAhB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ECIO,IAAMC,KAAK,GAAG,UAAyCC,MAAzC;EAAuD,eAAA;;SAAA,YAAAC,uBAAAA;EAAAC,IAAAA,YAAA,gBAAA;;;EAC1EA,EAAAA,IAAI,CAACC,OAAL,CAAa,UAAAC,MAAA;EACZC,IAAAA,MAAM,CAACC,IAAP,CAAYF,MAAZ,EAAoBD,OAApB,CAA4B,UAAAI,GAAA;EACzB,UAAMC,KAAK,GAAGJ,MAAM,CAACG,GAAD,CAApB;;EACA,UAAIE,KAAK,CAACC,OAAN,CAAcV,MAAM,CAACO,GAAD,CAApB,KAA8BE,KAAK,CAACC,OAAN,CAAcF,KAAd,CAAlC,EAAwD;EACtDR,QAAAA,MAAM,CAACO,GAAD,CAAN,YAAkBP,MAAM,CAACO,GAAD,GAAUC,MAAlC;EACD,OAFD,MAEO;EACLR,QAAAA,MAAM,CAACO,GAAD,CAAN,GAAcC,KAAd;EACD;EACH,KAPD;EAQA,GATD;EAWA,SAAOR,MAAP;EACD,CAbM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}