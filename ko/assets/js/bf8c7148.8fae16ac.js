"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4768],{3905:(e,t,i)=>{i.d(t,{Zo:()=>c,kt:()=>d});var s=i(7294);function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function a(e,t){if(null==e)return{};var i,s,n=function(e,t){if(null==e)return{};var i,s,n={},r=Object.keys(e);for(s=0;s<r.length;s++)i=r[s],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)i=r[s],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}var l=s.createContext({}),h=function(e){var t=s.useContext(l),i=t;return e&&(i="function"==typeof e?e(t):o(o({},t),e)),i},c=function(e){var t=h(e.components);return s.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return s.createElement(s.Fragment,{},t)}},_=s.forwardRef((function(e,t){var i=e.components,n=e.mdxType,r=e.originalType,l=e.parentName,c=a(e,["components","mdxType","originalType","parentName"]),_=h(i),d=n,m=_["".concat(l,".").concat(d)]||_[d]||u[d]||r;return i?s.createElement(m,o(o({ref:t},c),{},{components:i})):s.createElement(m,o({ref:t},c))}));function d(e,t){var i=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=i.length,o=new Array(r);o[0]=_;var a={};for(var l in t)hasOwnProperty.call(t,l)&&(a[l]=t[l]);a.originalType=e,a.mdxType="string"==typeof e?e:n,o[1]=a;for(var h=2;h<r;h++)o[h]=i[h];return s.createElement.apply(null,o)}return s.createElement.apply(null,i)}_.displayName="MDXCreateElement"},241:(e,t,i)=>{i.d(t,{VS:()=>u.VS,Xt:()=>u.Xt,FP:()=>u.FP,ZP:()=>Ce});var s=i(6010),n=i(7294),r=i(4996),o=i(826),a=i(6260),l=i(8388);class h{constructor(e){let{className:t={}}=void 0===e?{}:e;this._startLoading=e=>{let{target:t}=e;t.rootEl.appendChild(this._container),t.initialized?t.once(a.FP.LOAD,this._detachElements):t.once(a.FP.READY,this._detachElements)},this._detachElements=e=>{let{target:t}=e;const i=this._container;i&&i.parentElement===t.rootEl&&t.rootEl.removeChild(i)},this.className=t,this._container=this._createElements()}init(e){e.on(a.FP.LOAD_START,this._startLoading)}destroy(e){e.off(a.FP.LOAD_START,this._startLoading),this._detachElements({target:e})}_createElements(){const e={...this.className,...h.DEFAULT_CLASS},t=(0,l.az)(e.CONTAINER),i=(0,l.az)(e.RING);return t.appendChild(i),t}}h.DEFAULT_CLASS={CONTAINER:"view360-spinner",RING:"view360-spinner-ring"};const c=h;var u=i(397),_=i(6563),d=i(9580),m=i(4098),p=i(1815),E=i(9290),g=i(2278),v=i(7337),T=i(5846),b=i(459);class w extends m.Z{constructor(e){super(e);const{cubemapOrder:t="RLUDFB",cubemapFlipX:i=!1}=e;this._cubemapOrder=t,this._cubemapFlipX=i}createMesh(e,t){const i=this._cubemapOrder,s=this._cubemapFlipX,n={uTexture:new g.Z(e,t)},r=new v.Z({order:i}),o=new E.Z(e,T.Z,b.Z,n),a=e.createVAO(r,o),l=new p.Z(a,o);return s&&(l.scale[0]=-1),l.updateMatrix(),l}}const f=w;var N=i(9952);class C extends m.Z{createMesh(e,t){const i={uTexture:new g.Z(e,t)},s=new v.Z({order:"LFRDBU",rotateUV:[N.lD.ZERO,N.lD.ZERO,N.lD.ZERO,N.lD.CW_90,N.lD.CCW_90,N.lD.CW_90]}),n=new E.Z(e,T.Z,"#define PI 3.14159265359\nprecision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D uTexture;\n\nvarying highp vec2 vUV;\n\nconst vec2 OPERATE_COORDS_RANGE = vec2(-1.0, 1.0);\nconst vec2 TEXTURE_COORDS_RANGE = vec2(0.0, 1.0);\nconst float ONE_THIRD = 1.0 / 3.0;\nconst float EAC_CONST = 2.0 / PI;\n\nfloat scale(vec2 domainRange, vec2 targetRange, float val) {\n  float unit = 1.0 / (domainRange[1] - domainRange[0]);\n  return targetRange[0] + (targetRange[1] - targetRange[0]) * (val - domainRange[0]) * unit;\n}\n\nvoid main(void) {\n  float transformedCoordX;\n  float transformedCoordY;\n\n  float texRangeXStart = floor(vUV.s * 3.) * ONE_THIRD;\n  float texRangeYStart = floor(vUV.t * 2.) * 0.5;\n\n  vec2 orgTextureRangeX = vec2(texRangeXStart, texRangeXStart + ONE_THIRD);\n  vec2 orgTextureRangeY = vec2(texRangeYStart, texRangeYStart + 0.5);\n\n  // scaling coords by the coordinates following the range from -1.0 to 1.0.\n  float px = scale(orgTextureRangeX, OPERATE_COORDS_RANGE, vUV.s);\n  float py = scale(orgTextureRangeY, OPERATE_COORDS_RANGE, vUV.t);\n\n  float qu = EAC_CONST * atan(px) + 0.5;\n  float qv = EAC_CONST * atan(py) + 0.5;\n\n  // re-scaling coords by original coordinates ranges\n  transformedCoordX = scale(TEXTURE_COORDS_RANGE, orgTextureRangeX, qu);\n  transformedCoordY = scale(TEXTURE_COORDS_RANGE, orgTextureRangeY, qv);\n\n  gl_FragColor = texture2D(uTexture, vec2(transformedCoordX, transformedCoordY));\n}\n",i),r=e.createVAO(s,n);return new p.Z(r,n)}}const O=C;var A=i(7191),R=i(4074);class P extends R.Z{constructor(e){const t=[],i=[],s=[],n=[-.5,.5],r=1/60,o=e*r;for(let a=0;a<2;a++){const l=n[a];for(let n=0;n<=60;n++){const h=n*o+Math.PI-.5*e,c=Math.cos(h),u=Math.sin(h),_=n*r,d=a;if(s.push(_,d),t.push(c,l,u),0===a&&n<60){const e=n,t=e+60+1;i.push(e,t,e+1,t,t+1,e+1)}}}super(t,i,s)}}const I=P;class y extends m.Z{constructor(e){super(e);const{partial:t=!1}=e;this._partial=t,this._aspect=1,this._halfHeight=0,this._mesh=null}createMesh(e,t){if(this._mesh)return this._mesh;const i=this._partial,{width:s,height:n}=t,r=s/n,o=180/r,a=i?1:2*Math.tan(o*N.ZX),l=i?r:2*Math.PI,h=new I(l),c=new E.Z(e,T.Z,b.Z,{uTexture:new g.Z(e,t)}),u=e.createVAO(h,c),_=new p.Z(u,c);return _.scale[1]=a,A.yR(_.rotation),A.uD(_.rotation,_.rotation,-Math.PI/2),_.updateMatrix(),this._aspect=r,this._halfHeight=.5*a,this._mesh=_,_}updateCamera(e){super.updateCamera(e);const t=this._mesh,i=this._aspect,s=this._halfHeight;if(!t)return;if(this._partial){const t=.5*i*N.jl;e.restrictYawRange(-t,t)}const n=Math.atan2(s,1)*N.jl,r=Math.tan(e.fov*N.ZX*.5)/(s*e.aspect);e.restrictPitchRange(-n,n),e.restrictZoomRange(r,1/0),e.restrictRenderHeight(2*s)}}const L=y;var S=i(8155),x=i(8602);class D extends x.Z{constructor(e){super(),this.val=e}update(e,t){e.uniform4fv(t,this.val.reduce(((e,t)=>[...e,...t]),[])),this.needsUpdate=!1}}const U=D;class M extends x.Z{constructor(e){super(),this.val=e}update(e,t){e.uniform1f(t,this.val),this.needsUpdate=!1}}const F=M;class k extends m.Z{constructor(e){super(e),this._mode=e.mode}createMesh(e,t){let i,s;if(this._mode===k.MODE.LEFT_RIGHT)i=[.5,1,0,0],s=[.5,1,.5,0];else i=[1,.5,0,0],s=[1,.5,0,.5];const n={uTexture:new g.Z(e,t),uEye:new F(0),uTexScaleOffset:new U([i,s])},r=new S.Z,o=new E.Z(e,"#define GLSLIFY 1\nattribute vec3 position;\nattribute vec2 uv;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nuniform vec4 uTexScaleOffset[2];\nuniform float uEye;\n\nvarying highp vec2 vUV;\n\nvoid main() {\n  vec4 scaleOffset = uTexScaleOffset[int(uEye)];\n  vUV = uv.xy * scaleOffset.xy + scaleOffset.zw;\n  gl_Position = uPMatrix * uMVMatrix * vec4(position, 1.0);\n}\n",b.Z,n),a=e.createVAO(r,o);return new p.Z(a,o)}}k.MODE={LEFT_RIGHT:"left_right",TOP_BOTTOM:"top_bottom"};const B=k;class V extends R.Z{constructor(e,t,i){void 0===e&&(e=2),void 0===t&&(t=2),void 0===i&&(i=-1);const s=.5*e,n=.5*t;super([-s,-n,i,s,-n,i,-s,n,i,s,n,i],[0,1,2,2,1,3],[0,0,1,0,0,1,1,1])}}const Z=V;class z extends m.Z{constructor(e){super(e)}createMesh(e,t){t.wrapS=WebGLRenderingContext.REPEAT,t.wrapT=WebGLRenderingContext.REPEAT;const i={uTexture:new g.Z(e,t),uYaw:new F(0),uPitch:new F(.5),uZoom:new F(1)},s=new Z,n=new E.Z(e,"#define GLSLIFY 1\nattribute vec3 position;\nattribute vec2 uv;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\n\nvarying highp vec2 vUV;\n\nvoid main() {\n  vUV = uv;\n  gl_Position = vec4(position, 1.0);\n}\n","precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D uTexture;\nuniform float uYaw;\nuniform float uPitch;\nuniform float uZoom;\n\nvarying highp vec2 vUV;\n\nconst float PI = 3.1415926536;\nconst float PI_2 = PI * 0.5;\n\n// https://mathworld.wolfram.com/StereographicProjection.html\nvec2 toStereographicUV(in vec2 uv, in vec2 center) {\n  float R = 1. * uZoom;\n\n  // lat & lon from texture UV (x: -PI~PI, y: -PI/2 ~ PI/2)\n  vec2 texLatLon = (uv * 2. - 1.) * vec2(PI, PI_2);\n  // Central point (x: 0 ~ 2*PI, y: -PI/2 ~ PI/2)\n  vec2 central = (center * 2. - 1.) * vec2(PI, PI_2) + vec2(PI, 0);\n\n  float x = texLatLon.x;\n  float y = texLatLon.y;\n\n  float rou = sqrt(x * x + y * y);\n  float c = 2.0 * atan(rou, R * 0.5);\n\tfloat sin_c = sin(c);\n  float cos_c = cos(c);\n  // center\n  float sin_cy = sin(central.y);\n  float cos_cy = cos(central.y);\n\n  float lat = asin(cos_c * sin_cy + (y * sin_c * cos_cy) / rou);\n\tfloat lon = central.x + atan(x * sin_c, rou * cos_cy * cos_c - y * sin_cy * sin_c);\n\n  float u = (lon / PI + 1.0) * 0.5;\n\tfloat v = (lat / PI_2 + 1.0) * 0.5;\n\n  return vec2(u, v);\n}\n\nvoid main() {\n  vec2 central = vec2(uYaw, uPitch);\n  vec2 uv = toStereographicUV(vUV, central);\n\n  gl_FragColor = texture2D(uTexture, uv);\n}\n",i),r=e.createVAO(s,n),o=new p.Z(r,n);return o.on(N.Dp.UPDATE,(e=>{let{camera:t}=e;const i=o.program.uniforms;i.uYaw.val=t.yaw/360,i.uPitch.val=t.pitch/180+.5,i.uZoom.val=t.zoom,i.uYaw.needsUpdate=!0,i.uPitch.needsUpdate=!0,i.uZoom.needsUpdate=!0})),o}updateControl(e){e.ignoreZoomScale=!0}}const G=z,j="wrapper_RNhm";class H extends n.Component{constructor(e){super(e),this.state={done:!1}}render(){return this.state.done?n.createElement(n.Fragment,null):n.createElement("div",{className:j},n.createElement("button",{className:"button button--lg button--primary",onClick:()=>{this.props.onClick(),this.setState({done:!0})}},"LOAD"))}}const Y=H;var X=i(5488),W=i(5162),Q=i(814);const K=e=>{let{options:t,serializer:i}=e;const{projection:s}=t.projection,r="import View360, { "+s+' } from "@egjs/view360";';return n.createElement(Q.Z,{className:"language-jsx"},r+'\n\nconst viewer = new View360("#ID_OF_YOUR_CONTAINER", '+i.serialize(t,4)+");")},q=e=>{let{options:t,serializer:i}=e;const{projection:s,projectionOptions:r}=t.projection,o=['import React, { useMemo } from "react";',"import View360, { "+s+' } from "@egjs/react-view360";'].join("\n");return n.createElement(Q.Z,{className:"language-jsx"},o+"\n\nexport default () => {\n  const projection = useMemo(() => new "+s+"("+i.serialize(r,2,1)+"), []);\n\n  return <View360 "+i.serializeJSX(t,2,1)+" />\n}")},J=e=>{let{options:t,serializer:i}=e;const{projection:s}=t.projection,r=['import { Component } from "@angular/core";',"import { View360Options, "+s+' } from "@egjs/ngx-view360";'].join("\n");return n.createElement(n.Fragment,null,n.createElement(Q.Z,{className:"language-ts",title:"app.module.ts"},'import { NgModule } from "@angular/core";\nimport { BrowserModule } from "@angular/platform-browser";\nimport { AppComponent } from "./app.component";\nimport { NgxView360Module } from "@egjs/ngx-view360";\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    NgxView360Module\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n'),n.createElement(Q.Z,{className:"language-ts",title:"demo.component.ts"},r+'\n\n@Component({\n  selector: "some-demo-component",\n  template: `\n    <ngx-view360 [options]="options" />\n  `\n})\nexport class View360Demo {\n  options: Partial<View360Options> = '+i.serialize(t,2,1)+"\n}"))},$=e=>{let{options:t,serializer:i}=e;const{projection:s,projectionOptions:r}=t.projection,o="import { View360, "+s+' } from "@egjs/vue-view360";';return n.createElement(Q.Z,{className:"language-html"},"<template>\n  <View360 "+i.serializeVue(t,2,1)+" />\n</template>\n<script>\n"+o+"\n\nexport default {\n  created() {\n    this.projection = new "+s+"("+i.serialize(r,2,2)+");\n  },\n  components: {\n    View360\n  }\n}\n<\/script>")},ee=e=>{let{options:t,serializer:i}=e;const{projection:s,projectionOptions:r}=t.projection,o="import { View360, "+s+' } from "@egjs/vue3-view360";';return n.createElement(Q.Z,{className:"language-html"},"<template>\n  <View360 "+i.serializeVue(t,2,1)+' />\n</template>\n<script>\nimport { defineComponent } from "vue";\n'+o+"\n\nexport default {\n  setup() {\n    const projection = new "+s+"("+i.serialize(r,2,2)+");\n\n    return {\n      projection\n    }\n  },\n  components: {\n    View360\n  }\n}\n<\/script>")},te=e=>{let{options:t,serializer:i}=e;const{projection:s,projectionOptions:r}=t.projection,o=["import View360, { "+s+' } from "@egjs/svelte-view360";'].join("\n");return n.createElement(Q.Z,{className:"language-html"},"<script>\n"+o+"\n\nconst projection = new "+s+"("+i.serialize(r,2)+");\n<\/script>\n<View360 "+i.serializeJSX(t,2)+" />")};const ie=class{constructor(e,t){this.projection=e,this.projectionOptions=t}};const se=class{serialize(e,t,i){void 0===i&&(i=0);const s=Object.keys(e),n=[],r=" ".repeat(t*i);return n.push("{"),s.forEach(((r,o)=>{n.push(this._toText(r,e[r],t,i+1,o===s.length-1))})),n.push(r+"}"),n.join("\n")}serializeJSX(e,t,i){void 0===i&&(i=0);const s=" ".repeat(t*(i+1));return Object.keys(e).map((i=>i+"="+("string"==typeof e[i]?'"'+e[i]+'"':e[i]instanceof ie?"{projection}":"{"+JSON.stringify(e[i],void 0,t)+"}").replace(/\n/g,"\n"+s))).join("\n"+s)}serializeVue(e,t,i){void 0===i&&(i=0);const s=" ".repeat(t*(i+1));return Object.keys(e).map((t=>"string"==typeof e[t]?t+'="'+e[t]+'"':e[t]instanceof ie?':projection="projection"':":"+t+'="'+JSON.stringify(e[t]).replace(/\"/g,"'")+'"')).join("\n"+s)}_toText(e,t,i,s,n){const r=" ".repeat(i*s);if(t instanceof ie){const o=t.projectionOptions;let a=Object.keys(o).map(((e,t)=>this._toText(e,o[e],i,s+1,t===o.length-1))).join("\n");return a&&(a="\n"+a+"\n"+r),""+r+e+": new "+t.projection+"({"+a+"})"+(n?"":",")}if(Array.isArray(t)||"object"!=typeof t){return""+r+e+": "+JSON.stringify(t,void 0,4).replace(/"([^"]+)":/g,"$1:").replace(/\n/g,"\n"+r)+(n?"":",")}{const o=Object.keys(t);let a=o.map(((e,n)=>this._toText(e,t[e],i,s+1,n===o.length-1))).join("\n");return a&&(a="\n"+a+"\n"+r),""+r+e+": {"+a+"}"+(n?"":",")}}},ne={EQUIRECTANGULAR:"equirect",CUBEMAP:"cubemap",CUBESTRIP:"cubestrip",EAC:"eac",CYLINDRICAL:"cylindrical",STEREOSCOPIC_EQUI:"stereoequi",LITTLE_PLANET:"littleplanet"},re={[ne.EQUIRECTANGULAR]:"EquirectProjection",[ne.CUBEMAP]:"CubemapProjection",[ne.CUBESTRIP]:"CubestripProjection",[ne.EAC]:"EquiangularProjection",[ne.CYLINDRICAL]:"CylindricalProjection",[ne.STEREOSCOPIC_EQUI]:"StereoEquiProjection",[ne.LITTLE_PLANET]:"LittlePlanetProjection"};var oe=i(3991);const ae=e=>{let{options:t={},projectionType:i,projectionOptions:s}=e;t.projection=new ie(re[i],s);const r=new se;return n.createElement("div",null,n.createElement(X.Z,{groupId:"options",defaultValue:"json",lazy:!0,values:[{label:n.createElement("div",{className:"framework-wrapper"},n.createElement(oe.U3t,{width:"18",height:"18"})," JSON"),value:"json"},{label:n.createElement("div",{className:"framework-wrapper"},n.createElement(oe.PF2,{width:"18",height:"18"})," Javascript"),value:"js",attributes:{"data-framework":"js"}},{label:n.createElement("div",{className:"framework-wrapper"},n.createElement(oe.err,{width:"18",height:"18"})," React"),value:"react",attributes:{"data-framework":"react"}},{label:n.createElement("div",{className:"framework-wrapper"},n.createElement(oe.j3E,{width:"18",height:"18"})," Angular"),value:"ng",attributes:{"data-framework":"ng"}},{label:n.createElement("div",{className:"framework-wrapper"},n.createElement(oe.IAF,{width:"18",height:"18"})," Vue@2"),value:"vue2",attributes:{"data-framework":"vue"}},{label:n.createElement("div",{className:"framework-wrapper"},n.createElement(oe.IAF,{width:"18",height:"18"})," Vue@3"),value:"vue3",attributes:{"data-framework":"vue"}},{label:n.createElement("div",{className:"framework-wrapper"},n.createElement(oe.qn2,{width:"18",height:"18"})," Svelte"),value:"svelte",attributes:{"data-framework":"svelte"}}]},n.createElement(W.Z,{value:"json"},n.createElement(Q.Z,{className:"language-json"},r.serialize(t,4))),n.createElement(W.Z,{value:"js"},n.createElement(K,{options:t,serializer:r})),n.createElement(W.Z,{value:"react"},n.createElement(q,{options:t,serializer:r})),n.createElement(W.Z,{value:"ng"},n.createElement(J,{options:t,serializer:r})),n.createElement(W.Z,{value:"vue2"},n.createElement($,{options:t,serializer:r})),n.createElement(W.Z,{value:"vue3"},n.createElement(ee,{options:t,serializer:r})),n.createElement(W.Z,{value:"svelte"},n.createElement(te,{options:t,serializer:r}))))};var le=i(7462),he=i(9960);const ce="wrapper_mU0X",ue={veste:{name:"Veste Oberhaus",link:"https://commons.wikimedia.org/wiki/File:Veste_Oberhaus_(Passau,_full_spherical_panoramic_image,_equirectangular_projection).jpg",author:"J\xfcrgen Matern / Wikimedia Commons",authorLink:"https://juergen-matern.de/",license:"CC BY-SA 4.0"},fisherman:{name:"Fisherman's Bastion",link:"https://www.humus.name/index.php?page=Textures&ID=117",author:"Humus",authorLink:"https://www.humus.name/",license:"CC BY 3.0"},burano:{name:"Burano",link:"https://www.behance.net/gallery/59305251/Burano-360-painting-animation-in-VR",author:"Maja Wro\u0144ska",authorLink:"https://www.behance.net/takmaj",license:"CC BY-NC 3.0"},bathroom:{name:"The Bathroom",link:"https://www.youtube.com/watch?v=r7hv9K-u3U8",author:"jan Ke Tami",authorLink:"https://www.youtube.com/user/IamSamys",license:"CC BY 3.0"},snow_mountain:{name:"Snow Mountains Panorama",link:"https://pixabay.com/photos/snow-mountains-panorama-panoramic-1868299/",author:"Pexels",authorLink:"https://pixabay.com/users/pexels-2286921/",license:"Pixabay License"},san_francisco:{name:"San Francisco Panorama",link:"https://pixabay.com/images/id-2131951/",author:"pixexid",authorLink:"https://pixabay.com/ko/users/pixexid-4729217/",license:"Pixabay License"},witness:{name:"The Witness",link:"http://the-witness.net/",author:"Thekla, Inc.",authorLink:"http://the-witness.net/",ansel:!0},battlefieldV:{name:"Battlefield V",link:"https://www.ea.com/games/battlefield/battlefield-5",author:"DICE",authorLink:"https://www.dice.se/",ansel:!0},qube2:{name:"Q.U.B.E. 2",link:"https://www.toxicgames.co.uk/qube2",author:"Toxic Games",authorLink:"https://www.toxicgames.co.uk/",ansel:!0},drg:{name:"Deep Rock Galactic",link:"https://www.deeprockgalactic.com/",author:"Ghost Ship Games",authorLink:"https://ghostship.dk/",ansel:!0},for_honor:{name:"For Honor",link:"https://www.ubisoft.com/en-us/game/for-honor",author:"Ubisoft",authorLink:"https://www.ubisoft.com/",ansel:!0},dq11:{name:"Dragon Quest XI S: Echoes of an Elusive Age",link:"https://dragonquest.square-enix-games.com/xi",author:"Square Enix",authorLink:"https://www.square-enix.com/",ansel:!0},ff15:{name:"FINAL FANTASY XV",link:"https://finalfantasyxv.square-enix-games.com/",author:"Square Enix",authorLink:"https://www.square-enix.com/",ansel:!0}},_e={CC0:"https://creativecommons.org/publicdomain/zero/1.0/","CC BY 4.0":"https://creativecommons.org/licenses/by/4.0/","CC BY-SA 4.0":"https://creativecommons.org/licenses/by-sa/4.0/","CC BY-NC 3.0":"https://creativecommons.org/licenses/by-nc/3.0/","CC BY-NC-SA 4.0":"http://creativecommons.org/licenses/by-nc-sa/4.0/","CC BY 3.0":"https://creativecommons.org/licenses/by/3.0/","Pixabay License":"https://pixabay.com/service/terms/"};class de extends n.Component{constructor(e){super(e),this._modalRef=n.createRef(),this.state={license:e.item?ue[e.item]:null,visible:!1}}componentDidUpdate(e){this.props.item!==e.item&&this.setState({license:ue[this.props.item]})}render(){const e=this._modalRef,{item:t,...i}=this.props,r=this.state.license;return r?n.createElement(n.Fragment,null,n.createElement("div",(0,le.Z)({className:(0,s.Z)("license-container",ce)},i,{title:"Show Attribution",onClick:e=>{e.stopPropagation(),this.setState({visible:!0})}})),n.createElement("div",{ref:e,key:t,className:(0,s.Z)({visible:this.state.visible,"demo-viewer-modal":!0}),onClick:()=>{this.setState({visible:!1})}},this.state.visible&&n.createElement("div",{className:"content"},r.ansel&&n.createElement(n.Fragment,null,n.createElement("span",null,"Screenshot from ")),n.createElement(he.Z,{href:r.link,target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation()},r.name),n.createElement("span",null," by "),n.createElement(he.Z,{href:r.authorLink,target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation()},r.author),r.license&&n.createElement(n.Fragment,null,n.createElement("span",null," licensed under "),n.createElement(he.Z,{href:_e[r.license],target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation()},r.license)),r.ansel&&n.createElement(n.Fragment,null,n.createElement("span",null," taken with "),n.createElement(he.Z,{href:"https://www.nvidia.com/en-us/geforce/geforce-experience/ansel/",target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation()},"NVidia Ansel"))))):n.createElement(n.Fragment,null)}}de.defaultProps={item:null};const me=de;var pe=i(6577);class Ee extends pe.Z{constructor(e){let{position:t=o.Z.POSITION.MAIN_RIGHT,order:i=0}=void 0===e?{}:e;super({position:t,order:i}),this._toggleModal=()=>{const e=this._viewer,t=this._modalEl;if(t.classList.toggle("visible"),!e||!e.projection)return;if(!t.classList.contains("visible"))return this._clearModal();const i=e.projection.src,s=Array.isArray(i)?i:[i],n=!!e.projection.video;s.forEach((e=>{const i=n?document.createElement("video"):document.createElement("img");i.classList.add("content"),i.src=e,n&&(i.addEventListener("click",(e=>{e.stopPropagation()})),i.controls=!0),t.appendChild(i)}))},this._clearModal=()=>{const e=this._modalEl;for(;e.firstChild;){if(e.firstChild instanceof HTMLVideoElement){const t=e.firstChild;t.pause(),t.removeAttribute("src"),t.load()}e.removeChild(e.firstChild)}},this.element=document.createElement("button"),this.element.classList.add("demo-controls-orig-image"),this.element.title="Show original image/video",this._modalEl=document.createElement("div"),this._modalEl.classList.add("demo-viewer-modal"),this._modalEl.addEventListener("click",this._toggleModal),this._viewer=null}init(e,t){const i=this.element,s=t.className.CONTROLS_BUTTON;i.classList.add(s),i.addEventListener("click",this._toggleModal),this._attachModal(e.rootEl),this._viewer=e}destroy(e,t){const i=this.element,s=t.className.CONTROLS_BUTTON;i.classList.remove(s),i.removeEventListener("click",this._toggleModal),this._detachModal(e.rootEl),this._clearModal(),this._viewer=null}_attachModal(e){e.appendChild(this._modalEl)}_detachModal(e){this._modalEl.parentElement===e&&e.removeChild(this._modalEl)}}const ge=Ee,ve={header:"header_PUyx",footer:"footer_Qblj",separator:"separator_Hyh3",btn:"btn_iUkw"},Te={[a.FP.INPUT_START]:"#4b5bab",[a.FP.INPUT_END]:"#3ca370",[a.FP.STATIC_CLICK]:"#8c3f5d",[a.FP.BEFORE_RENDER]:"#ba6156",[a.FP.RENDER]:"#f2a65e",[a.FP.RESIZE]:"#5e315b",[a.FP.LOAD_START]:"#bd4882",[a.FP.LOAD]:"#80366b",[a.FP.PROJECTION_CHANGE]:"#eb564b",[a.FP.READY]:"#7e7e8f",[a.FP.VIEW_CHANGE]:"#323e4f",[a.FP.VR_START]:"#b0305c",[a.FP.VR_END]:"#73275c"};class be extends n.Component{constructor(e){super(e),this._onEvent=e=>{const t=this.state.events,i=t[t.length-1];i&&e.type===i.name?i.count+=1:(t.push({name:e.type,count:1,evt:e}),t.length>20&&t.splice(0,t.length-20)),this.setState({events:t})},this.state={events:[]}}componentDidMount(){setTimeout((()=>{const{viewer:e,events:t}=this.props;Object.values(t).forEach((t=>{e.on(t,this._onEvent)}))}))}render(){const e=this.state.events;return n.createElement("div",null,n.createElement("h4",null,"Events Triggered"),e.map(((e,t)=>{var i;let{name:r,count:o,evt:a}=e;return n.createElement("div",{key:t,className:(0,s.Z)(ve.btn,"button button--active button--info"),style:{backgroundColor:null!=(i=Te[r])?i:""}},n.createElement("span",null,r),n.createElement("span",{className:ve.separator},"x"),n.createElement("span",{className:ve.count},o))})))}}be.defaultProps={events:[]};const we=be,fe=n.forwardRef(((e,t)=>{let{license:i=null,showControlBar:a=!0,showSpinner:h=!0,clickToLoad:_=!1,showExampleCode:d=!1,showEvents:m=[],ratio:p="16by9",projectionType:E=ne.EQUIRECTANGULAR,projectionOptions:g={},...v}=e;const[T,b]=(0,n.useState)(),w=(0,n.useRef)(),{withBaseUrl:f}=(0,r.C)();(0,n.useEffect)((()=>{T&&T.load(Ne(E,g,f))}),[E,g]),(0,n.useEffect)((()=>{const{children:e,plugins:t=[],...i}=v;if(a){const e=new ge;t.push(new o.Z({...(0,l.PO)(a),customItems:[e]}))}h&&t.push(new c((0,l.PO)(h))),_&&(i.autoInit=!1);const s={...i,plugins:t,projection:g.src?Ne(E,g,f):null},n=new u.ZP(w.current,s);return b(n),()=>{n.destroy()}}),[]),(0,n.useImperativeHandle)(t,(()=>({load:(e,t)=>{T&&T.load(Ne(e,t,f))},refreshHotspots:()=>{T&&T.hotspot.refresh()},viewer:()=>T})),[T]);const{children:N,className:C,style:O,on:A,...R}=v,P=Array.isArray(d)?d:[],I=Object.keys(R).filter((e=>e in u.ZP.prototype||P.includes(e))).reduce(((e,t)=>({...e,[t]:R[t]})),{}),y=["view360-container"];return p&&y.push("is-"+p),n.createElement(n.Fragment,null,n.createElement("div",{ref:w,className:(0,s.Z)(...y,C),style:O},n.createElement("canvas",{className:"view360-canvas"}),i&&n.createElement(me,{item:i}),_&&n.createElement(Y,{onClick:()=>{T.init()}}),N),d&&n.createElement(ae,{options:I,projectionType:E,projectionOptions:g}),m.length>0&&n.createElement(we,{viewer:T,events:m}))})),Ne=(e,t,i)=>{switch(t.src&&("string"==typeof t.src||Array.isArray(t.src))&&(t.src=Array.isArray(t.src)?t.src.map((e=>i(e))):i(t.src)),e){case ne.EQUIRECTANGULAR:return new _.Z(t);case ne.CUBEMAP:return new d.Z(t);case ne.CUBESTRIP:return new f(t);case ne.EAC:return new O(t);case ne.CYLINDRICAL:return new L(t);case ne.STEREOSCOPIC_EQUI:return new B(t);case ne.LITTLE_PLANET:return new G(t);default:throw new Error("Wrong projection, given: "+e)}},Ce=fe},1028:(e,t,i)=>{i.d(t,{$:()=>u,Dx:()=>h,FP:()=>s,GS:()=>E,H3:()=>p,L2:()=>r,T:()=>o,WV:()=>a,bQ:()=>m,gf:()=>l,jN:()=>c,kq:()=>_,ml:()=>d,yy:()=>n});const s={MOUSE_DOWN:"mousedown",MOUSE_MOVE:"mousemove",MOUSE_UP:"mouseup",TOUCH_START:"touchstart",TOUCH_MOVE:"touchmove",TOUCH_END:"touchend",WHEEL:"wheel",RESIZE:"resize",CONTEXT_MENU:"contextmenu",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_UP:"pointerup",POINTER_CANCEL:"pointercancel",POINTER_ENTER:"pointerenter",POINTER_LEAVE:"pointerleave",KEY_DOWN:"keydown",KEY_UP:"keyup",LOAD:"load",ERROR:"error",CLICK:"click",DOUBLE_CLICK:"dblclick",CONTEXT_CREATE_ERROR:"webglcontextcreationerror",CONTEXT_LOST:"webglcontextlost",CONTEXT_RESTORED:"webglcontextrestored",DEVICE_ORIENTATION:"deviceorientation",DEVICE_MOTION:"devicemotion",ORIENTATION_CHANGE:"orientationchange",VIDEO_PLAY:"play",VIDEO_PAUSE:"pause",VIDEO_LOADED_DATA:"loadeddata",VIDEO_VOLUME_CHANGE:"volumechange",VIDEO_TIME_UPDATE:"timeupdate",VIDEO_DURATION_CHANGE:"durationchange",VIDEO_CAN_PLAYTHROUGH:"canplaythrough",TRANSITION_END:"transitionend",XR_END:"end"},n="div",r="button";let o;!function(e){e[e.LEFT=0]="LEFT",e[e.MIDDLE=1]="MIDDLE",e[e.RIGHT=2]="RIGHT"}(o||(o={}));const a={GRAB:"grab",GRABBING:"grabbing",NONE:""},l=["LEFT","UP","RIGHT","DOWN"];let h;!function(e){e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN"}(h||(h={}));const c=32,u={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"},_=" ",d=["requestFullscreen","webkitRequestFullscreen","webkitRequestFullScreen","webkitCancelFullScreen","mozRequestFullScreen","msRequestFullscreen"],m=["fullscreenElement","webkitFullscreenElement","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement"],p=["exitFullscreen","webkitExitFullscreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"],E=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"]},4949:(e,t,i)=>{i.d(t,{ZP:()=>s});const s={CODES:{WRONG_TYPE:0,WRONG_OPTION:1,ELEMENT_NOT_FOUND:2,CANVAS_NOT_FOUND:3,WEBGL_NOT_SUPPORTED:4,FAILED_CREATE_CONTEXT_2D:5,PROVIDE_PROJECTION_FIRST:6,FAILED_LINKING_PROGRAM:7,INSUFFICIENT_ARGS:8},MESSAGES:{WRONG_TYPE:(e,t)=>typeof e+" is not a "+t.map((e=>'"'+e+'"')).join(" or ")+".",WRONG_OPTION:(e,t)=>'Bad option: given "'+e+'" for option "'+t+'".',ELEMENT_NOT_FOUND:e=>'Element with selector "'+e+'" not found.',CANVAS_NOT_FOUND:"The canvas element was not found inside the given root element.",WEBGL_NOT_SUPPORTED:"WebGL is not supported on this browser.",FAILED_CREATE_CONTEXT_2D:"Failed to create canvas 2D context",PROVIDE_PROJECTION_FIRST:'"projection" should be provided before initialization.',FAILED_LINKING_PROGRAM:(e,t)=>'Failed linking WebGL program - "'+e+"\nShader compile Log: "+t,INSUFFICIENT_ARGS:(e,t)=>'Insufficient arguments: given "'+e+'" for "'+t+'".'}}},6260:(e,t,i)=>{i.d(t,{FP:()=>n,Qz:()=>s,Xt:()=>r});const s={CONTAINER:"view360-container",CANVAS:"view360-canvas",CTX_LOST:"view360-ctx-lost",IN_VR:"view360-vr-presenting",HOTSPOT_CONTAINER:"view360-hotspots",HOTSPOT:"view360-hotspot",HOTSPOT_VISIBLE:"view360-hotspot-visible",HOTSPOT_FLIP_X:"view360-hotspot-flip-x",HOTSPOT_FLIP_Y:"view360-hotspot-flip-y"},n={READY:"ready",LOAD_START:"loadStart",LOAD:"load",PROJECTION_CHANGE:"projectionChange",RESIZE:"resize",BEFORE_RENDER:"beforeRender",RENDER:"render",INPUT_START:"inputStart",INPUT_END:"inputEnd",VIEW_CHANGE:"viewChange",STATIC_CLICK:"staticClick",VR_START:"vrStart",VR_END:"vrEnd"},r={LINEAR:e=>e,SINE_WAVE:e=>Math.sin(e*Math.PI*2),EASE_OUT_CUBIC:e=>1-Math.pow(1-e,3),EASE_OUT_BOUNCE:e=>{const t=7.5625,i=2.75;return e<1/i?t*e*e:e<2/i?t*(e-=1.5/i)*e+.75:e<2.5/i?t*(e-=2.25/i)*e+.9375:t*(e-=2.625/i)*e+.984375}}},9952:(e,t,i)=>{i.d(t,{AG:()=>v,De:()=>d,Dp:()=>o,Ib:()=>b,K$:()=>c,QA:()=>a,YB:()=>g,ZX:()=>l,_F:()=>u,gI:()=>T,jl:()=>h,ju:()=>m,lD:()=>p,oK:()=>_,r6:()=>E,u1:()=>r});var s,n=i(6260);const r={CHANGE:"change",ANIMATION_END:"animationEnd"},o={UPDATE:"update"},a={INPUT_START:"inputStart",CHANGE:"change",INPUT_END:"inputEnd",ENABLE:"enable",DISABLE:"disable",STATIC_CLICK:"staticClick"},l=Math.PI/180,h=180/Math.PI,c=n.Xt.EASE_OUT_CUBIC,u=300,_={min:-1/0,max:1/0},d={min:-90,max:90},m={min:.6,max:10};let p;!function(e){e[e.ZERO=0]="ZERO",e[e.CW_90=1]="CW_90",e[e.CCW_90=2]="CCW_90",e[e.CW_180=3]="CW_180"}(p||(p={}));const E="view360videotimechange",g="http://www.w3.org/2000/svg",v="immersive-vr",T="local",b=null!=(s=Number.EPSILON)?s:2220446049250313e-31},5821:(e,t,i)=>{i.d(t,{Z:()=>d});var s=i(2921),n=i(7191),r=i(7962),o=i(1028),a=i(9952),l=i(8388);const h={PITCH_DELTA:1,YAW_DELTA_BY_ROLL:2,YAW_DELTA_BY_YAW:3};h[h.PITCH_DELTA]={targetAxis:[0,1,0],meshPoint:[0,0,1]},h[h.YAW_DELTA_BY_ROLL]={targetAxis:[0,1,0],meshPoint:[1,0,0]},h[h.YAW_DELTA_BY_YAW]={targetAxis:[1,0,0],meshPoint:[0,0,1]};class c extends s.Z{get enabled(){return this._enabled}get orientationUpdated(){return this._orientationUpdated}get ignoreRoll(){return this._ignoreRoll}set ignoreRoll(e){this._ignoreRoll=e}constructor(){super(),this._onDeviceOrientation=e=>{const t=this._orientation,{alpha:i,beta:s,gamma:n}=e;null!=i&&null!=s&&null!=n&&(t.alpha=i,t.beta=s,t.gamma=n,this._orientationUpdated=!0,this._needsCalibrate&&(this._needsCalibrate=!1,this._calibrateSensor()))},this._updateScreenOrientation=()=>{window.screen&&window.screen.orientation&&void 0!==window.screen.orientation.angle?this._screenOrientation=screen.orientation.angle:void 0!==window.orientation?this._screenOrientation=window.orientation>=0?window.orientation:360+window.orientation:this._screenOrientation=0},this.quaternion=n.Ue(),this._orientation={alpha:0,beta:90,gamma:0},this._yawOrigin=0,this._yawOffset=0,this._orientationUpdated=!1,this._screenOrientation=0,this._needsCalibrate=!0,this._enabled=!1}enable(){this._enabled||(window.addEventListener(o.FP.DEVICE_ORIENTATION,this._onDeviceOrientation),window.addEventListener(o.FP.ORIENTATION_CHANGE,this._updateScreenOrientation),this._updateScreenOrientation(),this._orientationUpdated=!1,this._needsCalibrate=!0,this._enabled=!0)}disable(){this._enabled&&(window.removeEventListener(o.FP.DEVICE_ORIENTATION,this._onDeviceOrientation),window.removeEventListener(o.FP.ORIENTATION_CHANGE,this._updateScreenOrientation),this._enabled=!1)}update(){this._updateRotation(),this._orientationUpdated=!1}collectDelta(){if(!this._orientationUpdated)return{pitch:0,yaw:0};const e=n.d9(this.quaternion);return this._updateRotation(),this._orientationUpdated=!1,this._toEulerDelta(e,this.quaternion)}setInitialRotation(e){this._yawOrigin=e}_calibrateSensor(){const e=this._yawOrigin,t=this.quaternion;this._yawOffset=0,this._updateRotation();const{yaw:i}=(0,l.b6)(t);this._yawOffset=i-e,this._updateRotation(),this._needsCalibrate=!1}_updateRotation(){const e=this.quaternion,{alpha:t,beta:i,gamma:s}=this._orientation;n.yR(e),n.uD(e,e,(t-this._yawOffset)*a.ZX),n.lM(e,e,i*a.ZX),n.jI(e,e,-s*a.ZX);const r=n.Ue(),o=.5*-this._screenOrientation*a.ZX,l=n.al(-Math.sqrt(.5),0,0,Math.sqrt(.5));n.t8(r,0,Math.sin(o),0,Math.cos(o)),n.Jp(e,e,r),n.Jp(e,e,l),n.Fv(e,e)}_toEulerDelta(e,t){return{yaw:this._getDeltaYaw(e,t),pitch:this._getDeltaPitch(e,t)}}_getDeltaYaw(e,t){const i=this._getRotationDelta(e,t,h.YAW_DELTA_BY_YAW);return this._getRotationDelta(e,t,h.YAW_DELTA_BY_ROLL)*Math.sin(this._extractPitchFromQuat(t))+i}_getDeltaPitch(e,t){return this._getRotationDelta(e,t,h.PITCH_DELTA)}_getRotationDelta(e,t,i){const s=r.al(h[i].targetAxis[0],h[i].targetAxis[1],h[i].targetAxis[2]),o=h[i].meshPoint,l=n.d9(e),c=n.d9(t);n.Fv(l,l),n.Fv(c,c);let u=r.al(0,0,1),_=r.al(0,0,1);r.VC(u,u,l),r.VC(_,_,c),r.VC(s,s,c);const d=r.AK(s,r.kC(r.Ue(),u,_))>0?1:-1,m=r.al(o[0],o[1],o[2]);let p;p=i!==h.YAW_DELTA_BY_YAW?r.al(0,d,0):r.al(d,0,0),r.VC(m,m,c),r.VC(p,p,c);const E=m,g=p,v=r.Ue();r.kC(v,E,g),r.Fv(v,v);const T=v[0],b=v[1],w=v[2];_=r.al(o[0],o[1],o[2]),r.VC(_,_,c),u=r.al(o[0],o[1],o[2]),r.VC(u,u,l);let f=Math.abs(u[0]*T+u[1]*b+u[2]*w);const N=r.Ue();r.$X(N,u,r.bA(r.Ue(),v,f));let C=(N[0]*_[0]+N[1]*_[1]+N[2]*_[2])/(r.kE(N)*r.kE(_));C>1&&(C=1);const O=Math.acos(C),A=r.kC(r.Ue(),_,N);let R;f=T*A[0]+b*A[1]+w*A[2],R=i!==h.YAW_DELTA_BY_YAW?f>0?1:-1:f<0?1:-1;return O*R*d*a.jl}_extractPitchFromQuat(e){const t=r.al(0,0,1);return r.VC(t,t,e),-1*Math.atan2(t[1],Math.sqrt(Math.pow(t[0],2)+Math.pow(t[2],2)))}}const u=c;class _ extends s.Z{get enabled(){return this._input.enabled}get enableBlocked(){return this._enableBlocked}get animating(){return this._input.enabled&&this._input.orientationUpdated}get ignoreRoll(){return this._ignoreRoll}set ignoreRoll(e){this._ignoreRoll=e}static async isAvailable(){if(!DeviceMotionEvent)return!1;let e;return Promise.race([new Promise((t=>{e=e=>{t(e.rotationRate&&null!=e.rotationRate.alpha)},window.addEventListener(o.FP.DEVICE_MOTION,e)})),new Promise((e=>{setTimeout((()=>e(!1)),1e3)}))]).then((t=>(window.removeEventListener(o.FP.DEVICE_MOTION,e),t)))}static async requestSensorPermission(){return!(0,l.yj)()||DeviceMotionEvent.requestPermission().then((e=>"granted"===e)).catch((()=>!1))}constructor(e,t){let{ignoreRoll:i=!0}=void 0===t?{}:t;super(),this._enableBlocked=e,this._ignoreRoll=i,this._input=new u}destroy(){this.disable(),this._input.off(),this.off()}update(e,t,i,s){this._ignoreRoll?this._updateYawPitch(e,t,i,s):this._updateQuaternion(e,s)}enable(){this._input.enabled||(this._input.enable(),this._enableBlocked=!1,this.trigger(a.QA.ENABLE,{control:this,updateCursor:!1}))}disable(){this._input.enabled&&(this._input.disable(),this.trigger(a.QA.DISABLE,{updateCursor:!1}))}sync(){}_updateYawPitch(e,t,i,s){const n=this._input;if(!n.enabled)return;const{yaw:r,pitch:o}=n.collectDelta();t.add(r),i.add(o),e.lookAt({yaw:t.val,pitch:i.val,zoom:s})}_updateQuaternion(e,t){const i=this._input;i.enabled&&(i.update(),e.rotate(i.quaternion,t))}}const d=_},8861:(e,t,i)=>{i.d(t,{Z:()=>a});var s=i(2921),n=i(1028),r=i(9952);class o extends s.Z{constructor(){super(),this._onMouseDown=e=>{const t=this._el;t&&e.button===n.T.LEFT&&(e.preventDefault(),t.focus?t.focus():window.focus(),this._prevPos[0]=e.clientX,this._prevPos[1]=e.clientY,window.addEventListener(n.FP.MOUSE_MOVE,this._onMouseMove,!1),window.addEventListener(n.FP.MOUSE_UP,this._onMouseUp,!1),this.trigger(r.QA.INPUT_START,{srcEvent:e,isTouch:!1,isKeyboard:!1}))},this._onMouseMove=e=>{e.preventDefault();const t=e.clientX,i=e.clientY,s=this._prevPos,n=t-s[0],o=i-s[1];this.trigger(r.QA.CHANGE,{delta:{x:n,y:o},isTouch:!1,isKeyboard:!1}),s[0]=t,s[1]=i},this._onMouseUp=()=>{this._prevPos[0]=0,this._prevPos[1]=0,window.removeEventListener(n.FP.MOUSE_MOVE,this._onMouseMove,!1),window.removeEventListener(n.FP.MOUSE_UP,this._onMouseUp,!1),this.trigger(r.QA.INPUT_END,{isTouch:!1,isKeyboard:!1,scrolling:!1})},this._el=null,this._prevPos=[0,0]}enable(e){this._el||(e.addEventListener(n.FP.MOUSE_DOWN,this._onMouseDown),this._el=e)}disable(){const e=this._el;e&&(e.removeEventListener(n.FP.MOUSE_DOWN,this._onMouseDown),window.removeEventListener(n.FP.MOUSE_MOVE,this._onMouseMove,!1),window.removeEventListener(n.FP.MOUSE_UP,this._onMouseUp,!1),this._el=null)}}const a=o},2197:(e,t,i)=>{i.d(t,{Z:()=>l});var s=i(2921),n=i(1028),r=i(9952),o=i(8388);class a extends s.Z{get scrollable(){return this._scrollable}set scrollable(e){this._scrollable=e}constructor(){super(),this._onTouchStart=e=>{if(e.touches.length>1||this._scrolling)return;const t=e.touches[0];this._isFirstTouch=!0,this._prevPos[0]=t.clientX,this._prevPos[1]=t.clientY,this.trigger(r.QA.INPUT_START,{srcEvent:e,isTouch:!0,isKeyboard:!1})},this._onTouchMove=e=>{if(e.touches.length>1||this._scrolling)return;const t=e.touches[0],i=this._scrollable,s=this._prevPos,n=t.clientX,a=t.clientY,l=n-s[0],h=a-s[1];if(this._isFirstTouch){if(i&&!(0,o.rm)()&&Math.abs(h)>Math.abs(l))return void(this._scrolling=!0);this._isFirstTouch=!1}!1!==e.cancelable&&e.preventDefault(),this.trigger(r.QA.CHANGE,{delta:{x:l,y:h},isTouch:!0,isKeyboard:!1}),s[0]=n,s[1]=a},this._onTouchEnd=e=>{if(0!==e.touches.length)return;const t=e.touches[0],i=this._prevPos;t?(i[0]=t.clientX,i[1]=t.clientY):(i[0]=0,i[1]=0,this.trigger(r.QA.INPUT_END,{isTouch:!0,isKeyboard:!1,scrolling:this._scrolling})),!1!==e.cancelable&&e.preventDefault(),this._scrolling=!1},this._el=null,this._prevPos=[0,0],this._isFirstTouch=!1,this._scrolling=!1,this._scrollable=!1}enable(e){this._el||(e.addEventListener(n.FP.TOUCH_START,this._onTouchStart,{passive:!1}),e.addEventListener(n.FP.TOUCH_MOVE,this._onTouchMove,{passive:!1}),e.addEventListener(n.FP.TOUCH_END,this._onTouchEnd),this._el=e)}disable(){const e=this._el;e&&(e.removeEventListener(n.FP.TOUCH_START,this._onTouchStart),e.removeEventListener(n.FP.TOUCH_MOVE,this._onTouchMove),e.removeEventListener(n.FP.TOUCH_END,this._onTouchEnd),this._el=null)}}const l=a},7035:(e,t,i)=>{i.d(t,{Z:()=>r});var s=i(8388),n=i(9952);const r=class{get val(){return this._val}get start(){return this._start}get end(){return this._end}get progress(){return this._progress}get activated(){return this._activated}get duration(){return this._duration}set duration(e){this._duration=e}get loop(){return this._loop}set loop(e){this._loop=e}get range(){return this._range}get easing(){return this._easing}set easing(e){this._easing=e}constructor(e){let{duration:t=n._F,loop:i=!1,range:s={min:0,max:1},easing:r=n.K$}=void 0===e?{}:e;this._duration=t,this._loop=i,this._range=s,this._easing=r,this._activated=!1,this.reset(0)}update(e){if(!this._activated)return this._val=this._end,0;const t=this._start,i=this._end,n=this._duration,r=this._val,o=this._loop,a=this._progress+e/n;this._progress=o?(0,s.zc)(a,0,1):(0,s.uZ)(a,0,1);const l=this._easing(this._progress);return this._val=(0,s.t7)(t,i,l),!o&&this._progress>=1&&(this._activated=!1),this._val-r}reset(e){const t=this._range,i=(0,s.uZ)(e,t.min,t.max);this._start=i,this._end=i,this._val=i,this._progress=0,this._activated=!1}add(e){const t=this._range;this._start=(0,s.uZ)(this._start+e,t.min,t.max),this._end=(0,s.uZ)(this._end+e,t.min,t.max),this._val=(0,s.uZ)(this._val+e,t.min,t.max)}setNewEndByDelta(e){const t=this._range;this._start=this._val,this._end=(0,s.uZ)(this._end+e,t.min,t.max),this._progress=0,this._activated=!0}setRange(e,t){this._start=(0,s.uZ)(this._start,e,t),this._end=(0,s.uZ)(this._end,e,t),this._range={min:e,max:t}}}},9290:(e,t,i)=>{i.d(t,{Z:()=>s});const s=class{constructor(e,t,i,s){this.program=e.createProgram(t,i),this.uniforms=s,this.uniformLocations=e.getUniformLocations(this.program,s)}}},1815:(e,t,i)=>{i.d(t,{Z:()=>c});var s=i(2921),n=i(1839),r=i(7191),o=i(7962),a=i(9952);class l extends s.Z{constructor(){super(),this.matrix=n.Ue(),this.rotation=r.Ue(),this.position=o.al(0,0,0),this.scale=o.al(1,1,1)}updateMatrix(){n.Iw(this.matrix,this.rotation,this.position,this.scale)}update(e){this.trigger(a.Dp.UPDATE,e)}}const h=l;const c=class extends h{constructor(e,t){super(),this.vao=e,this.program=t}destroy(e){e.releaseVAO(this.vao),e.releaseShaderResources(this.program)}getTexture(){return this.program.uniforms.uTexture.texture}}},9658:(e,t,i)=>{i.d(t,{Z:()=>n});class s extends Error{constructor(e,t){super(e),Object.setPrototypeOf(this,s.prototype),this.name="View360Error",this.code=t}}const n=s},7337:(e,t,i)=>{i.d(t,{Z:()=>a});var s=i(4074),n=i(9952),r=i(8388);class o extends s.Z{constructor(e){let{order:t,rotateUV:i}=e;const s=1/3,o=[];for(let n=1;n>=0;n--)for(let e=0;e<3;e++){const t=[e*s,.5*n,(e+1)*s,.5*n,(e+1)*s,.5*(n+1),e*s,.5*(n+1)];o.push(t)}i&&i.forEach(((e,t)=>{if(e===n.lD.ZERO)return;const i=o[t];let s;s=e===n.lD.CW_90?[1,2,3,0]:e===n.lD.CCW_90?[3,0,1,2]:[2,3,0,1];const r=Array(i.length);for(let n=0;n<i.length/2;n++)r[2*n+0]=i[2*s[n]+0],r[2*n+1]=i[2*s[n]+1];o[t]=r}));super([1,-1,1,-1,-1,1,-1,1,1,1,1,1,-1,-1,-1,1,-1,-1,1,1,-1,-1,1,-1,-1,1,-1,1,1,-1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,-1,-1,-1,-1,-1,1,-1,-1,1,-1,1,1,1,1,1,1,-1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,1],[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23],(0,r.rM)(o,t,"BFUDRL").reduce(((e,t)=>e.concat(t)),[]))}}const a=o},4074:(e,t,i)=>{i.d(t,{Z:()=>n});const s=class{constructor(e,t){this.data=e,this.itemSize=t,this.count=e.length/t}};const n=class{constructor(e,t,i){this.vertices=new s(new Float32Array(e),3),this.indicies=new s(new Uint16Array(t),1),this.uvs=new s(new Float32Array(i),2)}}},8155:(e,t,i)=>{i.d(t,{Z:()=>r});var s=i(4074);class n extends s.Z{constructor(){const e=60,t=-.5*Math.PI,i=[],s=[],n=[];let r,o;for(r=0;r<=60;r++){const a=(r/60-.5)*Math.PI,l=Math.sin(a),h=Math.cos(a);for(o=0;o<=e;o++){const a=2*(o/e-.5)*Math.PI+t,c=Math.sin(a),u=Math.cos(a)*h,_=l,d=c*h,m=o/e,p=r/60;if(i.push(m,p),s.push(u,_,d),o!==e&&60!==r){const t=61*r+o,i=t+e+1;n.push(t,t+1,i,i,t+1,i+1)}}}super(s,n,i)}}const r=n},397:(e,t,i)=>{i.d(t,{VS:()=>K.Z,Xt:()=>F.Xt,FP:()=>F.FP,ZP:()=>q});var s=i(2921),n=i(7962),r=i(7191),o=i(1839),a=i(7035),l=i(9952),h=i(8388);const c=class{get duration(){return this._motion.duration}set duration(e){this._motion.duration=e}get easing(){return this._motion.easing}set easing(e){this._motion.easing=e}constructor(e,t,i,s){let{duration:n=l._F,easing:r=l.K$}=void 0===s?{}:s;this._camera=e,this._motion=new a.Z({duration:n,easing:r,range:{min:0,max:1}}),this._from=t,this._to=i,this._finishPromise=new Promise((e=>{this._finish=e})),this._motion.setNewEndByDelta(1)}getFinishPromise(){return this._finishPromise}update(e){const t=this._camera,i=this._from,s=this._to,n=this._motion;n.update(e);const o=n.val,a=r.Ue(),l=(0,h.t7)(i.zoom,s.zoom,o);r.ZA(a,i.rotation,s.rotation,o),t.rotate(a,l),o>=1&&this._finish()}};class u extends s.Z{get aspect(){return this._aspect}get changed(){return this._changed}get yawRange(){return this._initialYawRange}set yawRange(e){this._initialYawRange=e}get pitchRange(){return this._initialPitchRange}set pitchRange(e){this._initialPitchRange=e}get zoomRange(){return this._initialZoomRange}set zoomRange(e){this._initialZoomRange=e}constructor(e){let{initialYaw:t,initialPitch:i,initialZoom:s,yawRange:a,pitchRange:l,zoomRange:h,fov:c}=e;super(),this.yaw=t,this.pitch=i,this.zoom=s,this.rollOffset=0,this.initialYaw=t,this.initialPitch=i,this.initialZoom=s,this.position=n.Ue(),this.animation=null,this._up=n.al(0,1,0),this._aspect=1,this._initialYawRange=a,this._initialPitchRange=l,this._initialZoomRange=h,this._yawRange=a,this._pitchRange=l,this._zoomRange=h,this.quaternion=r.Ue(),this._updateQuaternion(),this.viewMatrix=o.Ue(),this.projectionMatrix=o.Ue(),this.fov=c,this._maxRenderHeight=-1}destroy(){this.off()}resize(e,t){const i=this._aspect;this._aspect=e/t,this._aspect!==i&&this.updateMatrix()}lookAt(e){let{yaw:t=this.yaw,pitch:i=this.pitch,zoom:s=this.zoom}=e;const n=r.d9(this.quaternion),o=this.zoom;this.yaw=(0,h.zc)(t,0,360),this.pitch=(0,h.uZ)(i,-90,90),this.zoom=s,this._updateQuaternion();const a=Math.abs(s-o);(!r.fS(this.quaternion,n)||a>=10*l.Ib)&&this.updateMatrix()}rotate(e,t){void 0===t&&(t=this.zoom);const i=r.Fv(r.Ue(),e),s=r.fS(this.quaternion,i);r.JG(this.quaternion,i);const n=this.zoom,{yaw:o,pitch:a}=(0,h.b6)(i);this.yaw=o,this.pitch=a,this.zoom=t;const c=Math.abs(t-n);(!s||c>=10*l.Ib)&&this.updateMatrix()}async animateTo(e){let{yaw:t=this.yaw,pitch:i=this.pitch,zoom:s=this.zoom,duration:n=0,easing:o=l.K$}=void 0===e?{}:e;if(this.yaw===t&&this.pitch===i&&this.zoom===s)return;const a={rotation:r.d9(this.quaternion),zoom:this.zoom},u={rotation:(0,h.nk)(r.Ue(),t,i,this.rollOffset),zoom:s},_=new c(this,a,u,{duration:n,easing:o}),d=_.getFinishPromise();return this.animation=_,d.then((()=>{this.animation=null,this.trigger(l.u1.ANIMATION_END,{animation:_})})),d}restrictYawRange(e,t){this._yawRange={min:e,max:t}}restrictPitchRange(e,t){this._pitchRange={min:e,max:t}}restrictZoomRange(e,t){this._zoomRange={min:e,max:t}}restrictRenderHeight(e){this._maxRenderHeight=e}resetRange(){this._yawRange=this._initialYawRange,this._pitchRange=this._initialPitchRange,this._zoomRange=this._initialZoomRange,this._maxRenderHeight=-1}getYawRange(e){const t=this._yawRange,i=this._maxRenderHeight;if(!t)return l.oK;const s=.5*this.getHorizontalFov(e);let n=t.min,r=t.max;if(i>0){const e=(0,h.Jx)(s*l.ZX,this._aspect),o=.5*i,a=Math.tan(e),c=Math.sqrt((1+o*o)/(1+a*a)),u=Math.atan(Math.tan(s*l.ZX)*c)*l.jl;n=t.min+u,r=t.max-u}return n>r&&(n=0,r=0),{min:n,max:r}}getPitchRange(e){const t=this._pitchRange,i=this._maxRenderHeight;if(!t)return l.De;let s=t.min,n=t.max;if(i>0){const i=.5*this.getVerticalFov(e);s=t.min+i,n=t.max-i}return s>n&&(s=0,n=0),{min:Math.max(s,-90),max:Math.min(n,90)}}getZoomRange(){var e;const t=null!=(e=this._zoomRange)?e:l.ju,i=this.getHorizontalFov(t.max),s=this.getHorizontalFov(t.min),n=this.getHorizontalFov(this.zoom);return{min:Math.max(i,1),max:Math.min(s,180),current:n}}getHorizontalFov(e){return void 0===e&&(e=this.zoom),this._getZoomedHorizontalFov(e)*l.jl}getVerticalFov(e){void 0===e&&(e=this.zoom);const t=this._aspect,i=this._getZoomedHorizontalFov(e);return(0,h.Jx)(i,t)*l.jl}fovToZoom(e){const t=this.fov;return Math.tan(l.ZX*t*.5)/Math.tan(l.ZX*e*.5)}updateMatrix(){const e=this._up,t=this._aspect,i=this.viewMatrix,s=this.projectionMatrix,r=this.position,a=this.quaternion,l=n.Ue(),c=n.al(0,0,-1);n.VC(c,c,a),n.VC(l,e,a);const u=this._getZoomedHorizontalFov(),_=(0,h.Jx)(u,t);o.zB(i,r,c,l),o.G3(s,_,t,.1,100),this._changed=!0}onFrameRender(){this._changed=!1}_updateQuaternion(){(0,h.nk)(this.quaternion,this.yaw,this.pitch,this.rollOffset)}_getZoomedHorizontalFov(e){return void 0===e&&(e=this.zoom),2*Math.atan(Math.tan(l.ZX*this.fov*.5)/e)}}const _=u;var d=i(8861),m=i(2197),p=i(1028);class E extends s.Z{get active(){const e=this._pressed;return e.LEFT||e.UP||e.RIGHT||e.DOWN}constructor(){super(),this._onKeyDown=e=>{if(e.location!==KeyboardEvent.DOM_KEY_LOCATION_STANDARD)return;this._updateKeyPress(e,!0);const t=this._getPressedKeyCount();t<=0||(e.preventDefault(),1!==t||e.repeat||this.trigger(l.QA.INPUT_START,{srcEvent:e,isTouch:!1,isKeyboard:!0}))},this._onKeyUp=e=>{if(e.location!==KeyboardEvent.DOM_KEY_LOCATION_STANDARD)return;this._updateKeyPress(e,!1);this._getPressedKeyCount()>0||this.trigger(l.QA.INPUT_END,{isTouch:!1,isKeyboard:!0,scrolling:!1})},this._el=null,this._clearPressedKeys()}enable(e){this._el||(e.addEventListener(p.FP.KEY_DOWN,this._onKeyDown),e.addEventListener(p.FP.KEY_UP,this._onKeyUp),this._el=e,this._clearPressedKeys())}disable(){const e=this._el;e&&(e.removeEventListener(p.FP.KEY_DOWN,this._onKeyDown),e.removeEventListener(p.FP.KEY_UP,this._onKeyUp),this._el=null,this._clearPressedKeys())}update(){const e=this._getDeltaByPressedKeys();0===e.x&&0===e.y||this.trigger(l.QA.CHANGE,{delta:e,isTouch:!1,isKeyboard:!0})}_clearPressedKeys(){this._pressed=p.gf.reduce(((e,t)=>({...e,[t]:!1})),{})}_updateKeyPress(e,t){const i=this._pressed,s=null!=e.keyCode?p.Dx[e.keyCode]:p.$[e.key];s&&(i[s]=t)}_getPressedKeyCount(){return p.gf.filter((e=>this._pressed[e])).length}_getDeltaByPressedKeys(){const e=this._pressed;let t=0,i=0;return e.LEFT&&(t+=1),e.RIGHT&&(t-=1),e.UP&&(i+=1),e.DOWN&&(i-=1),{x:t,y:i}}}const g=E;class v extends s.Z{get enabled(){return this._enabled}get enableBlocked(){return this._enableBlocked}get animating(){return this._keyboardInput.active||this._xMotion.activated||this._yMotion.activated}get yaw(){return this._xMotion}get pitch(){return this._yMotion}get scrollable(){return this._touchInput.scrollable}set scrollable(e){this._touchInput.scrollable=e}get pointerScale(){return this._pointerScale}set pointerScale(e){this._pointerScale=e}get keyboardScale(){return this._keyboardScale}set keyboardScale(e){this._keyboardScale=e}get duration(){return this._duration}set duration(e){this._duration=e,this._xMotion.duration=e,this._yMotion.duration=e}get easing(){return this._easing}set easing(e){this._easing=e,this._xMotion.easing=e,this._yMotion.easing=e}get disablePitch(){return this._disablePitch}set disablePitch(e){this._disablePitch=e}get disableYaw(){return this._disableYaw}set disableYaw(e){this._disableYaw=e}get disableKeyboard(){return this._disableKeyboard}set disableKeyboard(e){this._disableKeyboard=e}constructor(e,t,i){let{duration:s=l._F,easing:n=l.K$,pointerScale:r=[1,1],keyboardScale:o=[1,1],disablePitch:h=!1,disableYaw:c=!1,disableKeyboard:u=!1}=void 0===i?{}:i;super(),this._onInputStart=e=>{this._changedWhileDragging=!1,this.trigger(l.QA.INPUT_START,{...e,inputType:"rotate"})},this._onChange=e=>{const t=e.delta,i=1/this._zoomScale,s=this._screenScale,n=this._keyboardScale,r=this._pointerScale;let o;o=e.isKeyboard?[n[0]*i,n[1]*i]:[r[0]*s[0]*i,r[1]*s[1]*i];const a=t.x*o[0],l=t.y*o[1];this._xMotion.setNewEndByDelta(a),this._yMotion.setNewEndByDelta(l),this._changedWhileDragging=!0},this._onInputEnd=e=>{this.trigger(l.QA.INPUT_END,{...e,inputType:"rotate"}),this._changedWhileDragging||e.isKeyboard||e.scrolling||this.trigger(l.QA.STATIC_CLICK,{isTouch:e.isTouch}),this._changedWhileDragging=!1},this._controlEl=e,this._pointerScale=r,this._keyboardScale=o,this._duration=s,this._easing=n,this._disablePitch=h,this._disableYaw=c,this._disableKeyboard=u,this._enableBlocked=t,this._mouseInput=new d.Z,this._touchInput=new m.Z,this._keyboardInput=new g,this._xMotion=new a.Z({duration:s,range:l.oK,easing:n}),this._yMotion=new a.Z({duration:s,range:l.De,easing:n}),this._screenScale=[1,1],this._zoomScale=1,this._enabled=!1,this._changedWhileDragging=!1,this._bindInputs()}destroy(){this.disable(),this._mouseInput.off(),this._touchInput.off(),this._keyboardInput.off(),this.off(),this._changedWhileDragging=!1}update(e){if(!this._enabled)return;const t=this._xMotion,i=this._yMotion,s=this._keyboardInput;this._disableKeyboard||s.update(),this._disablePitch||i.update(e),this._disableYaw||t.update(e)}updateRange(e,t){const i=e.getYawRange(t),s=e.getPitchRange(t);this._xMotion.setRange(i.min,i.max),this._yMotion.setRange(s.min,s.max)}setZoomScale(e){this._zoomScale=e}resize(e,t,i,s){const n=(0,h.Jx)(e*l.ZX,t)*l.jl;this._screenScale[0]=e/i,this._screenScale[1]=n/s}enable(){if(this._enabled)return;const e=this._controlEl;this._mouseInput.enable(e),this._touchInput.enable(e),this._keyboardInput.enable(e),this._enabled=!0,this._enableBlocked=!1,this.trigger(l.QA.ENABLE,{control:this,updateCursor:!0})}disable(){this._enabled&&(this._mouseInput.disable(),this._touchInput.disable(),this._keyboardInput.disable(),this._enabled=!1,this.trigger(l.QA.DISABLE,{updateCursor:!0}))}sync(e){this.updateRange(e,e.zoom),this._xMotion.reset(e.yaw),this._yMotion.reset(e.pitch)}_bindInputs(){const e=this._mouseInput,t=this._touchInput,i=this._keyboardInput;e.on(l.QA.INPUT_START,this._onInputStart),e.on(l.QA.CHANGE,this._onChange),e.on(l.QA.INPUT_END,this._onInputEnd),t.on(l.QA.INPUT_START,this._onInputStart),t.on(l.QA.CHANGE,this._onChange),t.on(l.QA.INPUT_END,this._onInputEnd),i.on(l.QA.INPUT_START,this._onInputStart),i.on(l.QA.CHANGE,this._onChange),i.on(l.QA.INPUT_END,this._onInputEnd)}}const T=v;class b extends s.Z{get scrollable(){return this._scrollable}set scrollable(e){this._scrollable=e}constructor(){super(),this._onWheel=e=>{const t=this._scrollable;if(0===e.deltaY||t)return;e.preventDefault(),e.stopPropagation(),this._inputTimer<0?this.trigger(l.QA.INPUT_START,{srcEvent:e,isTouch:!1,isKeyboard:!1}):this._clearTimer();const i=this._baseScale*e.deltaY;this.trigger(l.QA.CHANGE,{delta:i,isTouch:!1,isKeyboard:!1}),this._inputTimer=window.setTimeout((()=>{this.trigger(l.QA.INPUT_END,{isTouch:!1,isKeyboard:!1,scrolling:!1}),this._inputTimer=-1}),l._F)},this._el=null,this._baseScale=.04,this._scrollable=!1,this._inputTimer=-1}enable(e){this._el||(e.addEventListener(p.FP.WHEEL,this._onWheel,{passive:!1,capture:!1}),this._el=e,this._clearTimer())}disable(){const e=this._el;e&&(e.removeEventListener(p.FP.WHEEL,this._onWheel,!1),this._el=null,this._clearTimer())}_clearTimer(){window.clearTimeout(this._inputTimer),this._inputTimer=-1}}const w=b;class f extends s.Z{constructor(){super(),this._onTouchMove=e=>{const t=e.touches;if(2!==t.length)return;if(!e.cancelable)return;e.preventDefault(),e.stopPropagation();const i=this._prevDistance,s=[t[0].pageX-t[1].pageX,t[0].pageY-t[1].pageY],n=Math.sqrt(s[0]*s[0]+s[1]*s[1])*this._baseScale,r=this._isFirstTouch?0:n-i;this._isFirstTouch&&this.trigger(l.QA.INPUT_START,{srcEvent:e,isTouch:!0,isKeyboard:!1}),this._prevDistance=n,this._isFirstTouch=!1,this.trigger(l.QA.CHANGE,{delta:r,isTouch:!0,isKeyboard:!1})},this._onTouchEnd=e=>{0===e.touches.length&&(this._isFirstTouch||this.trigger(l.QA.INPUT_END,{isTouch:!0,isKeyboard:!1,scrolling:!1}),this._prevDistance=-1,this._isFirstTouch=!0)},this._el=null,this._baseScale=-.2,this._prevDistance=-1,this._isFirstTouch=!0}enable(e){this._el||(e.addEventListener(p.FP.TOUCH_MOVE,this._onTouchMove,{passive:!1,capture:!1}),e.addEventListener(p.FP.TOUCH_END,this._onTouchEnd),this._el=e,this._prevDistance=-1,this._isFirstTouch=!0)}disable(){const e=this._el;e&&(e.removeEventListener(p.FP.TOUCH_MOVE,this._onTouchMove,!1),e.removeEventListener(p.FP.TOUCH_END,this._onTouchEnd),this._el=null)}}const N=f;class C extends s.Z{get enabled(){return this._enabled}get enableBlocked(){return this._enableBlocked}get animating(){return this._motion.activated}get zoom(){return this._motion.val}get scrollable(){return this._wheelInput.scrollable}set scrollable(e){this._wheelInput.scrollable=e}get range(){return this._motion.range}get scale(){return this._scale}set scale(e){this._scale=e}get duration(){return this._motion.duration}get easing(){return this._motion.easing}constructor(e,t,i){let{scale:s=1,duration:n=l._F,easing:r=l.K$}=void 0===i?{}:i;super(),this._onInputStart=e=>{this.trigger(l.QA.INPUT_START,{...e,inputType:"zoom"})},this._onChange=e=>{let{delta:t}=e;const i=t*this._scale;this._motion.setNewEndByDelta(i)},this._onInputEnd=e=>{this.trigger(l.QA.INPUT_END,{...e,inputType:"zoom"})},this._scale=s,this._controlEl=e,this._enableBlocked=t,this._wheelInput=new w,this._pinchInput=new N,this._motion=new a.Z({duration:n,easing:r,range:l.oK}),this._enabled=!1,this._bindInputs()}destroy(){this.disable(),this._wheelInput.off(),this._pinchInput.off(),this.off()}update(e){if(!this._enabled)return;this._motion.update(e)}enable(){if(this._enabled)return;const e=this._controlEl;this._wheelInput.enable(e),this._pinchInput.enable(e),this._enabled=!0,this._enableBlocked=!1,this.trigger(l.QA.ENABLE,{control:this,updateCursor:!1})}disable(){this._enabled&&(this._wheelInput.disable(),this._pinchInput.disable(),this._enabled=!1,this.trigger(l.QA.DISABLE,{updateCursor:!1}))}sync(e){const t=this._motion,i=e.getZoomRange();t.setRange(i.min,i.max),t.reset(i.current)}_bindInputs(){const e=this._wheelInput,t=this._pinchInput;e.on(l.QA.INPUT_START,this._onInputStart),e.on(l.QA.CHANGE,this._onChange),e.on(l.QA.INPUT_END,this._onInputEnd),t.on(l.QA.INPUT_START,this._onInputStart),t.on(l.QA.CHANGE,this._onChange),t.on(l.QA.INPUT_END,this._onInputEnd)}}const O=C;var A=i(5821);const R=class{get useGrabCursor(){return this._useGrabCursor}set useGrabCursor(e){e!==this._useGrabCursor&&(this._useGrabCursor=e,e&&this._enabled?this._setCursor(p.WV.GRAB):e||this._setCursor(p.WV.NONE))}get disableContextMenu(){return this._disableContextMenu}set disableContextMenu(e){e!==this._disableContextMenu&&(this._disableContextMenu=e,e&&this._enabled?this._blockContextMenu():e||this._restoreContextMenu())}get scrollable(){return this._rotateControl.scrollable}set scrollable(e){this._rotateControl.scrollable=e}get wheelScrollable(){return this._zoomControl.scrollable}set wheelScrollable(e){this._zoomControl.scrollable=e}get ignoreZoomScale(){return this._ignoreZoomScale}set ignoreZoomScale(e){this._ignoreZoomScale=e}get enabled(){return this._enabled}get rotate(){return this._rotateControl}get zoom(){return this._zoomControl}get gyro(){return this._gyroControl}get animating(){return this._rotateControl.animating||this._zoomControl.animating||this._gyroControl.animating}constructor(e,t,i){let{useGrabCursor:s,scrollable:n,wheelScrollable:r,disableContextMenu:o,rotate:a,zoom:l,gyro:c}=i;this._preventContextMenu=e=>{e.preventDefault()},this._onInputStart=e=>{this._useGrabCursor&&!e.isKeyboard&&this._setCursor(p.WV.GRABBING)},this._onInputEnd=e=>{this._useGrabCursor&&!e.isKeyboard&&this._setCursor(p.WV.GRAB)},this._onEnable=e=>{let{control:t,updateCursor:i}=e;i&&this._useGrabCursor&&this._setCursor(p.WV.GRAB),t.sync(this._camera)},this._onDisable=e=>{let{updateCursor:t}=e;t&&this._setCursor(p.WV.NONE)},this._onCameraAnimationEnd=e=>{let{animation:t}=e;t.getFinishPromise().then((()=>{this.sync()}))},this._useGrabCursor=s,this._disableContextMenu=o,this._camera=t,this._controlEl=e,this._ignoreZoomScale=!1,this._enabled=!1,this._rotateControl=new T(e,!a,(0,h.PO)(a)),this._zoomControl=new O(e,!l,(0,h.PO)(l)),this._gyroControl=new A.Z(!c,(0,h.PO)(c)),this._rotateControl.scrollable=n,this._zoomControl.scrollable=r,this._bindEvents()}destroy(){this.disable(),this._rotateControl.destroy(),this._zoomControl.destroy(),this._setCursor(p.WV.NONE)}resize(e,t){const i=this._camera;this._rotateControl.resize(i.fov,i.aspect,e,t)}async enable(){this._enabled||(this._rotateControl.enableBlocked||this._rotateControl.enable(),this._zoomControl.enableBlocked||this._zoomControl.enable(),this._gyroControl.enableBlocked||await A.Z.isAvailable()&&this._gyroControl.enable(),this.sync(),this._disableContextMenu&&this._blockContextMenu(),this._enabled=!0)}disable(){this._enabled&&(this._rotateControl.disable(),this._zoomControl.disable(),this._gyroControl.disable(),this._restoreContextMenu(),this._enabled=!1)}update(e){const t=this._camera,i=this._rotateControl,s=this._zoomControl,n=this._gyroControl;s.update(e);const r=(0,h.h4)(t.fov,s.zoom),o=this._ignoreZoomScale?1:Math.max(r,1);i.setZoomScale(o),i.updateRange(t,r),i.update(e);const a=i.yaw,l=i.pitch;n.enabled?n.update(t,a,l,r):t.lookAt({yaw:a.val,pitch:l.val,zoom:r})}sync(){const e=this._camera;this._zoomControl.sync(e),this._rotateControl.sync(e)}_blockContextMenu(){this._controlEl.addEventListener(p.FP.CONTEXT_MENU,this._preventContextMenu)}_restoreContextMenu(){this._controlEl.removeEventListener(p.FP.CONTEXT_MENU,this._preventContextMenu)}_setCursor(e){if(!this._useGrabCursor&&e!==p.WV.NONE)return;this._controlEl.style.cursor=e}_bindEvents(){const e=this._rotateControl,t=this._zoomControl;e.on(l.QA.INPUT_START,this._onInputStart),e.on(l.QA.INPUT_END,this._onInputEnd),e.on(l.QA.ENABLE,this._onEnable),e.on(l.QA.DISABLE,this._onDisable),t.on(l.QA.ENABLE,this._onEnable),t.on(l.QA.DISABLE,this._onDisable),this._camera.on(l.u1.ANIMATION_END,this._onCameraAnimationEnd)}};var P=i(5011);const I=class{constructor(e){let{width:t,height:i,flipY:s}=e;this.width=t,this.height=i,this.flipY=s,this.wrapS=WebGLRenderingContext.CLAMP_TO_EDGE,this.wrapT=WebGLRenderingContext.CLAMP_TO_EDGE}destroy(){}isVideo(){return!1}isCube(){return!1}};const y=class extends I{constructor(e){let{source:t,width:i,height:s,flipY:n}=e;super({width:i,height:s,flipY:n}),this.source=t}};const L=class extends y{destroy(){const e=this.source;e.pause(),e.removeAttribute("src"),e.load()}isVideo(){return!0}isPaused(){const e=this.source;return e.paused||e.ended||e.readyState<=2}hasAudio(){const e=this.source;return e.audioTracks?e.audioTracks.length>0:null!=e.webkitAudioDecodedByteCount?e.webkitAudioDecodedByteCount>0:null==e.mozHasAudio||e.mozHasAudio}};const S=class extends I{constructor(e){let{sources:t,width:i,height:s,flipY:n}=e;super({width:i,height:s,flipY:n}),this.sources=t}isCube(){return!0}};const x=class{constructor(){this._loadChecker=new P.ZP}async load(e,t){if(t)return this.loadVideo(e,(0,h.PO)(t));if(Array.isArray(e)&&e.length>1)return this.loadCubeImage(e);{const t=Array.isArray(e)?e[0]:e;return this.loadImage(t)}}async loadImage(e){const t=this._toImageArray(e);return this._load(t,(e=>{const i=t[0];e(new y({source:i,width:i.naturalWidth,height:i.naturalHeight,flipY:!0}))}))}async loadCubeImage(e){const t=this._toImageArray(e);return this._load(t,(e=>{e(new S({sources:t,width:t[0].naturalWidth,height:t[0].naturalHeight,flipY:!1}))}))}async loadVideo(e,t){const i={autoplay:!0,muted:!0,loop:!1,volume:1,...t},s=this._toVideoElement(e,i);return this._load([s],(e=>{const{autoplay:t,muted:n}=i;s.currentTime=0,t&&n&&s.play().catch((()=>{})),e(new L({source:s,width:s.videoWidth,height:s.videoHeight,flipY:!0}))}))}_load(e,t){const i=this._loadChecker;return new Promise(((s,n)=>{i.once("ready",(e=>{e.errorCount>0||t(s)})),i.once("error",n),i.check(e)}))}_toImageArray(e){return(Array.isArray(e)?e:[e]).map((e=>{if((0,h.HD)(e)){const t=new Image;return t.crossOrigin="anonymous",t.src=e,t}return e}))}_toVideoElement(e,t){let{muted:i,loop:s,volume:n}=t;if(e instanceof HTMLVideoElement)return e;const r=document.createElement("video");r.crossOrigin="anonymous",r.playsInline=!0,r.setAttribute("webkit-playsinline",""),r.muted=i,r.volume=n,r.loop=s,Array.isArray(e)?e.forEach((e=>this._appendSourceElement(r,e))):this._appendSourceElement(r,e);return r.querySelectorAll("source").length>0&&r.readyState<1&&r.load(),r}_appendSourceElement(e,t){if(t instanceof HTMLSourceElement)return t;const i=document.createElement("source");i.src=t,e.appendChild(i)}};const D=class{constructor(e,t){void 0===t&&(t=window),this.maxDeltaTime=e,this._context=t,this._rafId=-1,this._rafTimer=-1,this._lastUpdateTime=-1}start(e){const t=this._context;if(!t||!e)return;if(this._rafId>=0||this._rafTimer>=0)return;const i=(s,n)=>{const r=Date.now(),o=Math.min(r-this._lastUpdateTime,1e3*this.maxDeltaTime);e(o,n),this._lastUpdateTime=r,this._rafId=t.requestAnimationFrame(i)};this._lastUpdateTime=Date.now(),this._rafId=t.requestAnimationFrame(i)}stop(){this._rafId>=0&&this._context.cancelAnimationFrame(this._rafId),this._rafTimer>=0&&clearTimeout(this._rafTimer),this._rafId=-1,this._rafTimer=-1}changeContext(e){this.stop(),this._context=e}};const U=class{get useResizeObserver(){return this._useResizeObserver}get enabled(){return this._enabled}constructor(e,t){this._skipFirstResize=(()=>{let e=!0;return()=>{e?e=!1:this._onResize()}})(),this._useResizeObserver=e,this._enabled=!1,this._resizeObserver=null,this._onResize=t}enable(e){if(this._enabled&&this.disable(),this._useResizeObserver&&window.ResizeObserver){const t=e.getBoundingClientRect(),i=0!==t.width||0!==t.height,s=new ResizeObserver(i?this._skipFirstResize:this._onResize);s.observe(e),this._resizeObserver=s}else window.addEventListener(p.FP.RESIZE,this._onResize);return this._enabled=!0,this}disable(){if(!this._enabled)return this;const e=this._resizeObserver;return e?(e.disconnect(),this._resizeObserver=null):window.removeEventListener(p.FP.RESIZE,this._onResize),this._enabled=!1,this}};const M=class{get enabled(){return this._enabled}get enableBlocked(){return this._enableBlocked}get playing(){return this._enabled&&!this._interrupted}get delay(){return this._delay}set delay(e){this._delay=e}get delayOnMouseLeave(){return this._delayOnMouseLeave}set delayOnMouseLeave(e){this._delayOnMouseLeave=e}get speed(){return this._speed}set speed(e){this._speed=e}get pauseOnHover(){return this._pauseOnHover}set pauseOnHover(e){this._pauseOnHover=e}get canInterrupt(){return this._canInterrupt}set canInterrupt(e){this._canInterrupt=e}get disableOnInterrupt(){return this._disableOnInterrupt}set disableOnInterrupt(e){this._disableOnInterrupt=e}constructor(e,t,i){this._onInputStart=()=>{this._canInterrupt&&(this._interrupted=!0,this._clearTimeout())},this._onInputEnd=()=>{this._setUninterruptedAfterDelay(this._delay)},this._onGyroEnable=()=>{this.disable()},this._onMouseEnter=()=>{this._pauseOnHover&&(this._interrupted=!0,this._hovering=!0)},this._onMouseLeave=()=>{this._pauseOnHover&&(this._hovering=!1,this._setUninterruptedAfterDelay(this._delayOnMouseLeave))},this._camera=e.camera,this._control=e.control,this._element=t,this._enabled=!1,this._interrupted=!1,this._interruptionTimer=-1,this._hovering=!1;const{delay:s=2e3,delayOnMouseLeave:n=0,speed:r=1,pauseOnHover:o=!1,canInterrupt:a=!0,disableOnInterrupt:l=!1}=(0,h.PO)(i);this._enableBlocked=!i,this._delay=s,this._delayOnMouseLeave=n,this._speed=r,this._pauseOnHover=o,this._canInterrupt=a,this._disableOnInterrupt=l}destroy(){this.disable()}update(e){if(!this._enabled)return;if(this._interrupted)return void(this._disableOnInterrupt&&this.disable());const t=this._camera,i=-this._speed*e/100;t.yaw=(0,h.zc)(t.yaw+i,0,360)}enable(){const e=this._control,t=this._element;this._enabled||e.gyro.enabled||(e.rotate.on(l.QA.INPUT_START,this._onInputStart),e.rotate.on(l.QA.INPUT_END,this._onInputEnd),e.zoom.on(l.QA.INPUT_START,this._onInputStart),e.zoom.on(l.QA.INPUT_END,this._onInputEnd),e.gyro.on(l.QA.ENABLE,this._onGyroEnable),t.addEventListener(p.FP.MOUSE_ENTER,this._onMouseEnter,!1),t.addEventListener(p.FP.MOUSE_LEAVE,this._onMouseLeave,!1),this._enabled=!0,this._enableBlocked=!1)}enableAfterDelay(){this.enable(),this._interrupted=!0,this._setUninterruptedAfterDelay(this._delay)}disable(){if(!this._enabled)return;const e=this._control,t=this._element;e.rotate.off(l.QA.INPUT_START,this._onInputStart),e.rotate.off(l.QA.INPUT_END,this._onInputEnd),e.zoom.off(l.QA.INPUT_START,this._onInputStart),e.zoom.off(l.QA.INPUT_END,this._onInputEnd),e.gyro.off(l.QA.ENABLE,this._onGyroEnable),t.removeEventListener(p.FP.MOUSE_ENTER,this._onMouseEnter,!1),t.removeEventListener(p.FP.MOUSE_LEAVE,this._onMouseLeave,!1),this._enabled=!1,this._interrupted=!1,this._hovering=!1,this._clearTimeout()}_setUninterruptedAfterDelay(e){this._hovering||(this._clearTimeout(),e>0?this._interruptionTimer=window.setTimeout((()=>{this._interrupted=!1,this._interruptionTimer=-1}),e):(this._interrupted=!1,this._interruptionTimer=-1))}_clearTimeout(){this._interruptionTimer>=0&&(window.clearTimeout(this._interruptionTimer),this._interruptionTimer=-1)}};var F=i(6260);class k extends s.Z{constructor(e,t){void 0===t&&(t={}),super(),this.destroy=()=>{this.exit(),this.off()},this._onSessionEnd=()=>{this.exit(),this.trigger(F.FP.VR_END)},this._xrSession=null,this._xrRefSpace=null,this._ctx=e,this._options=t}async isAvailable(){const e=window.navigator.xr;return!!e&&e.isSessionSupported(l.AG).then((e=>e)).catch((()=>!1))}async enter(){const e=this._ctx,t=window.navigator.xr;if(!t)return;await A.Z.requestSensorPermission();const i={requiredFeatures:[l.gI],...this._options};await e.makeXRCompatible();const s=await t.requestSession(l.AG,i);e.bindXRLayer(s);const n=await s.requestReferenceSpace(l.gI);this._setSession(s,n),this.trigger(F.FP.VR_START,{session:s})}exit(){const e=this._xrSession;e&&e.end().catch((()=>{})),this._xrSession=null,this._xrRefSpace=null}canRender(e){const t=this._xrRefSpace;if(!t)return!1;return!!e.getViewerPose(t)}getEyeParams(e){const t=e.session,i=e.getViewerPose(this._xrRefSpace);if(!i)return null;const s=t.renderState.baseLayer;return s?i.views.map((e=>({viewport:s.getViewport(e),vMatrix:e.transform.inverse.matrix,pMatrix:e.projectionMatrix}))):null}_setSession(e,t){this._xrSession=e,this._xrRefSpace=t,e.addEventListener(p.FP.XR_END,this._onSessionEnd)}}const B=k;var V=i(9658),Z=i(9617);const z=class{constructor(e,t){this.element=e,this.position=t}};var G=i(4949);const j=class{constructor(e,t,i){let{zoom:s=!1}=i;this._containerEl=(0,h.S3)("."+F.Qz.HOTSPOT_CONTAINER,e),this._renderer=t,this._hotspots=[],this._zoom=s}refresh(){const e=this._containerEl;if(!e)return;const t=[].slice.apply(e.querySelectorAll("."+F.Qz.HOTSPOT));this._hotspots=t.map((e=>this._parseHotspot(e)))}render(e){const t=this._hotspots,i=.5*this._renderer.width,s=.5*this._renderer.height,r=e.zoom,o="translate(-50%, -50%)",a=this._zoom?"scale("+r+")":"";t.forEach((t=>{const r=t.position,l=n.Ue();if(n.JG(l,r),n.fF(l,l,e.viewMatrix),n.fF(l,l,e.projectionMatrix),l[2]>1||l[2]<0)return void t.element.classList.remove(F.Qz.HOTSPOT_VISIBLE);const h=Z.al(l[0]*i+i,-l[1]*s+s);t.element.classList.add(F.Qz.HOTSPOT_VISIBLE),t.element.style.transform=[o,"translate("+h[0]+"px, "+h[1]+"px)",a].join(" ")}))}_parseHotspot(e){const t=e.dataset.yaw,i=e.dataset.pitch,s=e.dataset.position;if(t||i){const s=t?parseFloat(t):0,n=i?parseFloat(i):0,r=this._yawPitchToVec3(s,n);return new z(e,r)}if(s){const t=s.split(" ").map((e=>parseFloat(e)));if(t.length<3)throw new V.Z(G.ZP.MESSAGES.INSUFFICIENT_ARGS(s,'hotspot attribute "data-position"'),G.ZP.CODES.INSUFFICIENT_ARGS);return new z(e,n.al(t[0],t[1],t[2]))}{const t=n.al(0,0,-1);return new z(e,t)}}_yawPitchToVec3(e,t){const i=e*l.ZX,s=t*l.ZX,r=n.Ue();return r[1]=Math.sin(s),r[2]=Math.cos(s),r[0]=r[2]*Math.sin(-i),r[2]=-r[2]*Math.cos(-i),r}};const H=class{get count(){return this.geometry.indicies.count}constructor(e,t,i){this.obj=e,this.geometry=t,this.buffers=i}};const Y=class{get canvas(){return this._canvas}get maxTextureSize(){return this._maxTextureSize}get isWebGL2(){return this._isWebGL2}get supportVAO(){return this._isWebGL2||!!this._extensions.vao}get lost(){return this._contextLost}get debug(){return this._debug}constructor(e,t){this._onContextLost=()=>{this._canvas.classList.add(F.Qz.CTX_LOST),this._contextLost=!0},this._onContextRestore=()=>{this._canvas.classList.remove(F.Qz.CTX_LOST),this._contextLost=!1},this._canvas=e,this._contextLost=!1,this._debug=t,this._extensions={vao:null,loseContext:null}}init(){const e=this._canvas,{gl:t,isWebGL2:i}=this._getContext(e);this._gl=t,this._maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE),this._isWebGL2=i,this._isWebGL2||(this._extensions.vao=t.getExtension("OES_vertex_array_object")),this._extensions.loseContext=t.getExtension("WEBGL_lose_context"),e.addEventListener(p.FP.CONTEXT_LOST,this._onContextLost),e.addEventListener(p.FP.CONTEXT_RESTORED,this._onContextRestore)}destroy(){const e=this._gl,t=this._canvas;e&&(e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)),t.removeEventListener(p.FP.CONTEXT_LOST,this._onContextLost),t.removeEventListener(p.FP.CONTEXT_RESTORED,this._onContextRestore)}forceLoseContext(){const e=this._extensions.loseContext;e&&e.loseContext()}forceRestoreContext(){const e=this._extensions.loseContext;e&&e.restoreContext()}clear(){const e=this._gl;e.clear(e.COLOR_BUFFER_BIT)}resize(){const e=this._gl;e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight)}viewport(e,t,i,s){this._gl.viewport(e,t,i,s)}createVAO(e,t){const i=this._createNativeVAO(),s=new H(i,e,{indicies:this._createBuffer(),position:this._createBuffer(),uv:this._createBuffer()});return i&&(this._bindNativeVAO(i),this._supplyGeometryData(s,t),this._bindNativeVAO(null),this._unbindBuffers()),s}draw(e,t){const i=this._gl;e.obj?this._bindNativeVAO(e.obj):this._supplyGeometryData(e,t),i.drawElements(i.TRIANGLES,e.count,i.UNSIGNED_SHORT,0),e.obj?this._bindNativeVAO(null):this._unbindBuffers()}releaseVAO(e){e.obj&&this._deleteNativeVAO(e.obj),this._deleteBuffer(e.buffers.indicies),this._deleteBuffer(e.buffers.position),this._deleteBuffer(e.buffers.uv)}getUniformLocations(e,t){const i=this._gl,s=Object.keys(t).reduce(((t,s)=>(t[s]=i.getUniformLocation(e,s),t)),{});return{...this._getCommonUniformLocations(e),...s}}updateCommonUniforms(e,t,i){const s=this._gl,n=i.uniformLocations,r=e.matrix,a=o.Ue();o.Jp(a,t.viewMatrix,r),s.uniformMatrix4fv(n.uMVMatrix,!1,a),s.uniformMatrix4fv(n.uPMatrix,!1,t.projectionMatrix)}updateVRUniforms(e,t,i,s){const n=this._gl,r=e.uniformLocations;n.uniformMatrix4fv(r.uMVMatrix,!1,t),n.uniformMatrix4fv(r.uPMatrix,!1,i),r.uEye&&n.uniform1f(r.uEye,s)}updateUniforms(e){const t=this._gl,i=e.uniforms,s=e.uniformLocations;for(const n in i){const e=i[n],r=s[n];e&&(e.needsUpdate&&e.update(t,r,this._isWebGL2))}}releaseShaderResources(e){const t=this._gl,i=e.uniforms;for(const s in i){const e=i[s];e&&(e.needsUpdate&&e.destroy(t))}t.deleteProgram(e.program)}useProgram(e){this._gl.useProgram(e.program)}createProgram(e,t){const i=this._gl,s=i.createProgram(),n=this._compileShader(i.VERTEX_SHADER,e),r=this._compileShader(i.FRAGMENT_SHADER,t);if(i.attachShader(s,n),i.attachShader(s,r),i.bindAttribLocation(s,0,"position"),i.bindAttribLocation(s,1,"uv"),i.linkProgram(s),this._debug&&!i.getProgramParameter(s,i.LINK_STATUS)){let e=null;throw i.getShaderParameter(n,i.COMPILE_STATUS)?i.getShaderParameter(r,i.COMPILE_STATUS)||(e=i.getShaderInfoLog(r)):e=i.getShaderInfoLog(n),new V.Z(G.ZP.MESSAGES.FAILED_LINKING_PROGRAM(i.getProgramInfoLog(s),e),G.ZP.CODES.FAILED_LINKING_PROGRAM)}return i.deleteShader(n),i.deleteShader(r),s}createWebGLTexture(e){const t=this._gl,i=t.createTexture();if(t.bindTexture(t.TEXTURE_2D,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,e.wrapS),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,e.wrapT),!e.isVideo()&&this._isWebGL2){const i=t;i.texStorage2D(i.TEXTURE_2D,1,i.RGBA8,e.width,e.height)}return i}createWebGLCubeTexture(e,t){const i=this._gl,s=i.createTexture();if(i.bindTexture(i.TEXTURE_CUBE_MAP,s),i.texParameteri(i.TEXTURE_CUBE_MAP,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_CUBE_MAP,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_CUBE_MAP,i.TEXTURE_WRAP_S,e.wrapS),i.texParameteri(i.TEXTURE_CUBE_MAP,i.TEXTURE_WRAP_T,e.wrapT),this._isWebGL2){const e=i;e.texStorage2D(e.TEXTURE_CUBE_MAP,1,e.RGBA8,t,t)}return s}async makeXRCompatible(){const e=this._gl,t=e.getContextAttributes();t&&!0!==t.xrCompatible&&await e.makeXRCompatible()}bindXRLayer(e){const t=this._gl,i=new XRWebGLLayer(e,t);e.updateRenderState({baseLayer:i})}bindXRFrame(e){const t=this._gl,i=e.session.renderState.baseLayer;t.bindFramebuffer(t.FRAMEBUFFER,i.framebuffer)}useDefaultFrameBuffer(){const e=this._gl;e.bindFramebuffer(e.FRAMEBUFFER,null)}_createBuffer(){return this._gl.createBuffer()}_deleteBuffer(e){return this._gl.deleteBuffer(e)}_createNativeVAO(){const e=this._gl;if(this._isWebGL2)return e.createVertexArray();{const e=this._extensions.vao;return(null==e?void 0:e.createVertexArrayOES())||null}}_bindNativeVAO(e){const t=this._gl;if(this._isWebGL2)t.bindVertexArray(e);else{const t=this._extensions.vao;null==t||t.bindVertexArrayOES(e)}}_deleteNativeVAO(e){const t=this._gl;if(this._isWebGL2)t.deleteVertexArray(e);else{const t=this._extensions.vao;null==t||t.deleteVertexArrayOES(e)}}_supplyGeometryData(e,t){const i=e.geometry;this._supplyIndiciesData(i.indicies,e.buffers.indicies),this._supplyAttributeData(i.vertices,t.program,"position",e.buffers.position),this._supplyAttributeData(i.uvs,t.program,"uv",e.buffers.uv)}_unbindBuffers(){const e=this._gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.bindBuffer(e.ARRAY_BUFFER,null)}_supplyIndiciesData(e,t){const i=this._gl;i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,t),i.bufferData(i.ELEMENT_ARRAY_BUFFER,e.data,i.STATIC_DRAW)}_supplyAttributeData(e,t,i,s){const n=this._gl,r=n.getAttribLocation(t,i);r<0||(n.bindBuffer(n.ARRAY_BUFFER,s),n.bufferData(n.ARRAY_BUFFER,e.data,n.STATIC_DRAW),n.vertexAttribPointer(r,e.itemSize,n.FLOAT,!1,0,0),n.enableVertexAttribArray(r))}_compileShader(e,t){const i=this._gl,s=i.createShader(e);return i.shaderSource(s,t),i.compileShader(s),s}_getCommonUniformLocations(e){const t=this._gl;return{uMVMatrix:t.getUniformLocation(e,"uMVMatrix"),uPMatrix:t.getUniformLocation(e,"uPMatrix")}}_getContext(e){const t=["webgl2","webgl","experimental-webgl","webkit-3d","moz-webgl"];let i=null,s=!1;const n={preserveDrawingBuffer:!1,antialias:!1},r=e=>e.statusMessage;e.addEventListener(p.FP.CONTEXT_CREATE_ERROR,r);for(const a of t){try{i=e.getContext(a,n),s="webgl2"===a}catch(o){}if(i)break}if(e.removeEventListener(p.FP.CONTEXT_CREATE_ERROR,r),!i)throw new V.Z(G.ZP.MESSAGES.WEBGL_NOT_SUPPORTED,G.ZP.CODES.WEBGL_NOT_SUPPORTED);return{gl:i,isWebGL2:s}}};const X=class{get canvas(){return this._canvas}get width(){return this._elementSize.x}get height(){return this._elementSize.y}get pixelRatio(){return this._pixelRatio}get aspect(){return this._elementSize.x/this._elementSize.y}constructor(e,t){this._canvas=e,this._elementSize={x:0,y:0},this._pixelRatio=1,this.ctx=new Y(e,t)}destroy(){const e=this._canvas;this.ctx.destroy(),e.width=1,e.height=1}resize(){const e=this._canvas,t=this._elementSize,i=window.devicePixelRatio;t.x=e.clientWidth,t.y=e.clientHeight,e.width=t.x*i,e.height=t.y*i,this._pixelRatio=i,this.ctx.resize()}render(e,t){const i=this.ctx;i.lost||(i.clear(),i.useProgram(e.program),i.updateCommonUniforms(e,t,e.program),e.update({camera:t}),i.updateUniforms(e.program),i.draw(e.vao,e.program))}renderVR(e,t,i){const s=this.ctx,n=t.getEyeParams(i);n&&e&&(s.bindXRFrame(i),s.useProgram(e.program),s.updateUniforms(e.program),n.forEach(((t,i)=>{const n=t.viewport,r=o.Jp(o.Ue(),t.vMatrix,e.matrix);s.viewport(n.x,n.y,n.width,n.height),s.updateVRUniforms(e.program,r,t.pMatrix,i),s.draw(e.vao,e.program)})))}};class W extends s.Z{get rootEl(){return this._rootEl}get renderer(){return this._renderer}get camera(){return this._camera}get control(){return this._control}get vr(){return this._vr}get hotspot(){return this._hotspot}get plugins(){return this._plugins}get projection(){return this._projection}set projection(e){this._initialized&&e?this.load(e):this._projection=e}get mesh(){return this._mesh}get initialized(){return this._initialized}get autoplay(){return this._autoplay}get autoInit(){return this._autoInit}get autoResize(){return this._autoResize}get canvasSelector(){return this._canvasSelector}get useResizeObserver(){return this._useResizeObserver}get tabIndex(){return this._tabIndex}set tabIndex(e){const t=this._renderer.canvas;this._tabIndex=e,null!=e?t.tabIndex=e:t.removeAttribute("tabindex")}get maxDeltaTime(){return this._animator.maxDeltaTime}set maxDeltaTime(e){this._animator.maxDeltaTime=e}get debug(){return this._debug}set debug(e){this._debug=e}get initialYaw(){return this._camera.initialYaw}set initialYaw(e){this._camera.initialYaw=e}get initialPitch(){return this._camera.initialPitch}set initialPitch(e){this._camera.initialPitch=e}get initialZoom(){return this._camera.initialZoom}set initialZoom(e){this._camera.initialZoom=e}get yawRange(){return this._camera.yawRange}set yawRange(e){this._camera.yawRange=e,this._projection&&this._projection.updateCamera(this._camera)}get pitchRange(){return this._camera.pitchRange}set pitchRange(e){this._camera.pitchRange=e,this._projection&&this._projection.updateCamera(this._camera)}get zoomRange(){return this._camera.zoomRange}set zoomRange(e){this._camera.zoomRange=e,this._projection&&this._projection.updateCamera(this._camera)}get fov(){return this._camera.fov}set fov(e){const t=this._camera,i=this._control;t.fov=e,t.updateMatrix(),i.sync()}get rotate(){return this._control.rotate}get zoom(){return this._control.zoom}get gyro(){return this._control.gyro}get useGrabCursor(){return this._control.useGrabCursor}set useGrabCursor(e){this._control.useGrabCursor=e}get disableContextMenu(){return this._control.disableContextMenu}set disableContextMenu(e){this._control.disableContextMenu=e}get scrollable(){return this._control.scrollable}set scrollable(e){this._control.scrollable=e}get wheelScrollable(){return this._control.wheelScrollable}set wheelScrollable(e){this._control.wheelScrollable=e}constructor(e,t){let{projection:i=null,initialYaw:s=0,initialPitch:n=0,initialZoom:r=1,yawRange:o=null,pitchRange:a=null,zoomRange:l=null,fov:c=90,useGrabCursor:u=!0,disableContextMenu:d=!1,rotate:m=!0,zoom:p=!0,gyro:E=!1,scrollable:g=!0,wheelScrollable:v=!1,autoplay:T=!1,hotspot:b={},autoInit:w=!0,autoResize:f=!0,canvasSelector:N="canvas",useResizeObserver:C=!0,on:O={},plugins:A=[],maxDeltaTime:P=1/30,tabIndex:I=0,debug:y=!1}=void 0===t?{}:t;super(),this.renderFrame=e=>{const t=this._camera,i=this._renderer,s=this._control,n=this._hotspot,r=this._autoplay,o=this._mesh;o&&(this._emit(F.FP.BEFORE_RENDER),r.playing&&(r.update(e),s.sync()),t.animation?t.animation.update(e):s.update(e),i.render(o,t),n.render(t),t.changed&&this._emit(F.FP.VIEW_CHANGE,{yaw:t.yaw,pitch:t.pitch,zoom:t.zoom,quaternion:[t.quaternion[0],t.quaternion[1],t.quaternion[2],t.quaternion[3]]}),t.onFrameRender(),this._emit(F.FP.RENDER))},this._renderFrameOnDemand=e=>{const t=this._camera,i=this._control,s=this._autoplay,n=this._mesh,r=null==n?void 0:n.getTexture();this._initialized&&r&&(t.animation||i.animating||s.playing||r.isVideo())&&this.renderFrame(e)},this._renderVRFrame=(e,t)=>{const i=this._vr,s=this._mesh,n=this._renderer;s&&(this._emit(F.FP.BEFORE_RENDER),n.renderVR(s,i,t),this._emit(F.FP.RENDER))},this._rootEl=(0,h.sb)(e),this._plugins=A,this._initialized=!1,this._autoInit=w,this._autoResize=f,this._canvasSelector=N,this._useResizeObserver=C,this._tabIndex=I,this._debug=y;const L=(0,h.gE)(this._rootEl,N);this._renderer=new X(L,y),this._camera=new _({initialYaw:s,initialPitch:n,initialZoom:r,fov:c,yawRange:o,pitchRange:a,zoomRange:l}),this._control=new R(L,this._camera,{useGrabCursor:u,scrollable:g,wheelScrollable:v,disableContextMenu:d,rotate:m,zoom:p,gyro:E}),this._animator=new D(P),this._autoplay=new M(this,L,T),this._projection=i,this._mesh=null,this._autoResizer=new U(C,(()=>this.resize())),this._vr=new B(this._renderer.ctx),this._hotspot=new j(this._rootEl,this._renderer,b),this._addEventHandlers(O),i&&w&&this.init()}destroy(){this._camera.destroy(),this._animator.stop(),this._renderer.destroy(),this._control.destroy(),this._autoResizer.disable(),this._mesh&&(this._mesh.destroy(this._renderer.ctx),this._mesh=null),this._plugins.forEach((e=>e.destroy(this))),this._initialized=!1}async init(){if(!this._projection)throw new V.Z(G.ZP.MESSAGES.PROVIDE_PROJECTION_FIRST,G.ZP.CODES.PROVIDE_PROJECTION_FIRST);const e=this._renderer,t=this._camera,i=this._control,s=this._animator,n=this._hotspot,r=this._projection,o=e.canvas;this._bindComponentEvents(),e.ctx.init(),this._resizeComponents(),t.updateMatrix(),this._autoResize&&this._autoResizer.enable(o),this._autoplay.enableBlocked||this._autoplay.enable(),this._plugins.forEach((e=>{e.init(this)}));const a=await this._loadTexture(r);this._applyProjection(r,a),n.refresh(),s.start(this._renderFrameOnDemand),await i.enable(),null==this._tabIndex||o.hasAttribute("tabIndex")||(o.tabIndex=this._tabIndex),this._initialized=!0,this.renderFrame(0),this._emit(F.FP.READY)}async load(e){if(!e)return!1;if(this._initialized){const t=await this._loadTexture(e);this._applyProjection(e,t),this.renderFrame(0)}else this._projection=e,this.init();return!0}resize(){if(!this._initialized)return;this._resizeComponents(),this.renderFrame(0);const{width:e,height:t}=this._renderer;this._emit(F.FP.RESIZE,{width:e,height:t})}addPlugins(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this._initialized&&t.forEach((e=>{e.init(this)})),this._plugins.push(...t)}removePlugins(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach((e=>{const t=this._plugins.indexOf(e);t<0||(e.destroy(this),this._plugins.splice(t,1))}))}_emit(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];const n=i?i[0]:{};this.trigger(e,{type:e,target:this,...n})}_applyProjection(e,t){const i=this._camera,s=this._control,n=this._renderer,r=this._mesh;r&&r.destroy(n.ctx);const o=e.createMesh(n.ctx,t);e.updateCamera(i),e.updateControl(s),this._mesh=o,this._emit(F.FP.PROJECTION_CHANGE,{projection:e})}async _loadTexture(e){const t=new x,{src:i,video:s}=e;this._emit(F.FP.LOAD_START,{src:i,video:s});const n=await t.load(i,s);return this._emit(F.FP.LOAD,{src:i,video:s}),n}_resizeComponents(){const e=this._renderer,t=this._camera,i=this._control;e.resize(),t.resize(e.width,e.height),i.resize(e.width,e.height)}_addEventHandlers(e){Object.keys(e).forEach((t=>{this.on(t,e[t])}))}_bindComponentEvents(){const e=this._rootEl,t=this._control,i=this._animator,s=this._renderer,n=this._vr;[l.QA.STATIC_CLICK,l.QA.INPUT_START,l.QA.INPUT_END].forEach((e=>{t.rotate.on(e,(t=>{this._emit(e,t)})),t.zoom.on(e,(t=>{this._emit(e,t)}))})),n.on(F.FP.VR_START,(t=>{e.classList.add(F.Qz.IN_VR),i.changeContext(t.session),i.start(this._renderVRFrame),this._emit(F.FP.VR_START)})),n.on(F.FP.VR_END,(()=>{e.classList.remove(F.Qz.IN_VR),s.ctx.useDefaultFrameBuffer(),i.changeContext(window),i.start(this._renderFrameOnDemand),this.resize(),this._emit(F.FP.VR_END)}))}}W.VERSION="#__VERSION__#";const Q=W;var K=i(826);const q=Q},826:(e,t,i)=>{i.d(t,{Z:()=>M});var s=i(6577),n=i(2921);const r={CONTROLS_ROOT:"view360-controls",CONTROLS_BG:"view360-controls-background",CONTROLS_MAIN:"view360-controls-main",CONTROLS_TOP:"view360-controls-top",CONTROLS_BOTTOM:"view360-controls-bottom",CONTROLS_MID:"view360-controls-mid",CONTROLS_LEFT:"view360-controls-left",CONTROLS_RIGHT:"view360-controls-right",CONTROLS_FLOAT_LEFT:"view360-controls-float-left",CONTROLS_FLOAT_RIGHT:"view360-controls-float-right",CONTROLS_BUTTON:"view360-controls-button",PROGRESS_ROOT:"view360-controls-progress",VOLUME_ROOT:"view360-controls-volume",RANGE_ROOT:"view360-range",RANGE_TRACK:"view360-range-track",RANGE_THUMB:"view360-range-thumb",RANGE_FILLER:"view360-range-filler",PLAY_BUTTON:"view360-controls-play",PAUSE_BUTTON:"view360-controls-pause",UNMUTED_BUTTON:"view360-controls-unmuted",MUTED_BUTTON:"view360-controls-muted",FULLSCREEN_BUTTON:"view360-controls-fullscreen",FULLSCREEN_EXIT_BUTTON:"view360-controls-fullscreen-exit",VR_BUTTON:"view360-controls-vr",GYRO_ENABLED:"view360-controls-gyro-enabled",GYRO_DISABLED:"view360-controls-gyro-disabled",VIDEO_TIME_DISPLAY:"view360-controls-time",PIEVIEW_ROOT:"view360-controls-pie",FIXED:"view360-controls-fixed",UNAVAILABLE:"view360-controls-unavailable",HIDDEN:"view360-controls-hidden"},o={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",MAIN_TOP:"main-top",MAIN_BOTTOM:"main-bottom",MAIN_LEFT:"main-left",MAIN_RIGHT:"main-right"};var a=i(7035),l=i(8861),h=i(2197),c=i(9952),u=i(8388),_=i(1028);class d extends n.Z{constructor(){super(),this._onHold=e=>{var t;let{srcEvent:i,isTouch:s}=e;const n=this._bbox;if(!n)return;const r=s?i.touches[0].pageX:i.pageX,o=n.x+(null!=(t=window.scrollX)?t:window.pageXOffset),a=(0,u.uZ)(r,o,o+n.width),l=(a-o)/n.width;this._motion.reset(a),this.thumbEl.classList.add(this._fixedClass),this.trigger(c.QA.INPUT_START,l)},this._onChange=e=>{var t;let{delta:i}=e;const s=this._motion,n=this._bbox;if(!n)return;s.setNewEndByDelta(i.x),s.update(1);const r=n.x+(null!=(t=window.scrollX)?t:window.pageXOffset),o=((0,u.uZ)(s.val,r,r+n.width)-r)/n.width;this.trigger(c.QA.CHANGE,o)},this._onRelease=()=>{this._bbox&&(this.thumbEl.classList.remove(this._fixedClass),this.trigger(c.QA.INPUT_END))};const e=document.createElement(_.yy),t=document.createElement(_.yy),i=document.createElement(_.yy),s=document.createElement(_.yy);e.draggable=!1,t.appendChild(s),t.appendChild(i),e.appendChild(t),this.rootEl=e,this.trackEl=t,this.thumbEl=i,this.fillerEl=s,this._mouseInput=new l.Z,this._touchInput=new h.Z,this._motion=new a.Z({duration:1,range:c.oK,easing:e=>e}),this._bbox={x:0,y:0,width:0,height:0,left:0,right:0,bottom:0,top:0},this._fixedClass=r.FIXED}init(e){const t=this._mouseInput,i=this._touchInput;this.rootEl.classList.add(e.RANGE_ROOT),this.trackEl.classList.add(e.RANGE_TRACK),this.thumbEl.classList.add(e.RANGE_THUMB),this.fillerEl.classList.add(e.RANGE_FILLER),this._fixedClass=e.FIXED,t.on(c.QA.INPUT_START,this._onHold),i.on(c.QA.INPUT_START,this._onHold),t.on(c.QA.INPUT_END,this._onRelease),i.on(c.QA.INPUT_END,this._onRelease),t.on(c.QA.CHANGE,this._onChange),i.on(c.QA.CHANGE,this._onChange),t.enable(this.rootEl),i.enable(this.rootEl),this.resize()}destroy(){const e=this._mouseInput,t=this._touchInput;this.rootEl.className="",this.trackEl.className="",this.thumbEl.className="",this.fillerEl.className="",e.off(),t.off(),e.disable(),t.disable()}resize(){this._bbox=this.trackEl.getBoundingClientRect()}updateStyle(e){const t=this._bbox.width,i=(0,u.uZ)(e,0,1);this.fillerEl.style.width=100*i+"%",this.thumbEl.style.transform="translateX("+i*t+"px)"}}const m=d;var p=i(6260);class E extends s.Z{get element(){return this._rangeControl.rootEl}constructor(e){let{position:t=o.MAIN_TOP,order:i=9999}=void 0===e?{}:e;super({position:t,order:i}),this._onResize=()=>{this._rangeControl.resize()},this._onTimeUpdate=()=>{const e=this._video;e&&(this._currentTime=e.source.currentTime,this._rangeControl.updateStyle(this._currentTime/this._duration))},this._onDurationChange=()=>{const e=this._video;e&&(this._duration=e.source.duration,this._rangeControl.updateStyle(this._currentTime/this._duration))},this._onHold=e=>{const t=this._video,i=this._controlBar;if(!t||!i)return;const s=t.isPaused();t.source.pause();const n=t.source.duration*e;t.source.currentTime=n,t.source.dispatchEvent(new CustomEvent(c.r6,{detail:{time:n}})),i.rootEl.classList.add(i.className.FIXED),this._wasPaused=!this._playPromise&&s},this._onControl=e=>{const t=this._video;if(!t)return;const i=t.source.duration*e;t.source.currentTime=i,t.source.dispatchEvent(new CustomEvent(c.r6,{detail:{time:i}}))},this._onRelease=()=>{const e=this._video,t=this._controlBar;e&&t&&(this._wasPaused||this._playPromise||(this._playPromise=e.source.play().catch((()=>{})),this._playPromise.then((()=>{this._playPromise=null})),t.rootEl.classList.remove(t.className.FIXED))),this._wasPaused=!1},this.position=t,this.order=i,this._controlBar=null,this._rangeControl=new m,this._video=null,this._wasPaused=!1,this._currentTime=0,this._duration=0,this._playPromise=null}init(e,t){var i;const s=null==(i=e.mesh)?void 0:i.getTexture(),n=this.element,r=this._rangeControl,o=t.className.UNAVAILABLE;s&&s.isVideo()?(n.classList.remove(o),n.classList.add(t.className.PROGRESS_ROOT),e.on(p.FP.RESIZE,this._onResize),s.source.addEventListener(_.FP.VIDEO_TIME_UPDATE,this._onTimeUpdate),s.source.addEventListener(_.FP.VIDEO_DURATION_CHANGE,this._onDurationChange),s.source.addEventListener(c.r6,this._onTimeUpdate),r.init(t.className),r.on(c.QA.INPUT_START,this._onHold),r.on(c.QA.CHANGE,this._onControl),r.on(c.QA.INPUT_END,this._onRelease),this._video=s,this._currentTime=s.source.currentTime,this._duration=s.source.duration,this._controlBar=t,r.updateStyle(this._currentTime/this._duration)):n.classList.add(o)}destroy(e){const t=this._video;e.off(p.FP.RESIZE,this._onResize),t&&(t.source.removeEventListener(_.FP.VIDEO_TIME_UPDATE,this._onTimeUpdate),t.source.removeEventListener(_.FP.VIDEO_DURATION_CHANGE,this._onDurationChange),t.source.removeEventListener(c.r6,this._onTimeUpdate)),this._rangeControl.destroy(),this._video=null,this._playPromise=null}}const g=E;class v extends s.Z{constructor(e){let{position:t=o.MAIN_LEFT,order:i=9999}=void 0===e?{}:e;super({position:t,order:i}),this._onClick=()=>{const e=this._video;e&&(this._paused?e.source.play():e.source.pause())},this._onPlay=()=>{if(!this._controlBar)return;const e=this.element,t=this._controlBar.className;e.classList.add(t.PAUSE_BUTTON),e.classList.remove(t.PLAY_BUTTON),e.title="Pause Video",this._paused=!1},this._onPause=()=>{if(!this._controlBar)return;const e=this.element,t=this._controlBar.className;e.classList.add(t.PLAY_BUTTON),e.classList.remove(t.PAUSE_BUTTON),e.title="Play Video",this._paused=!0},this.element=document.createElement(_.L2),this._video=null,this._paused=!0,this._controlBar=null}init(e,t){var i;const s=this.element,n=null==(i=e.mesh)?void 0:i.getTexture(),r=t.className,o=r.UNAVAILABLE;if(!n||!n.isVideo())return void s.classList.add(o);s.classList.add(r.CONTROLS_BUTTON),s.classList.remove(o);const a=n.isPaused();this._video=n,this._paused=a,this._controlBar=t,a?this._onPause():this._onPlay(),s.addEventListener(_.FP.CLICK,this._onClick),n.source.addEventListener(_.FP.VIDEO_PLAY,this._onPlay),n.source.addEventListener(_.FP.VIDEO_PAUSE,this._onPause)}destroy(){const e=this._video,t=this.element;e&&(t.className="",t.removeEventListener(_.FP.CLICK,this._onClick),e.source.removeEventListener(_.FP.VIDEO_PLAY,this._onPlay),e.source.removeEventListener(_.FP.VIDEO_PAUSE,this._onPause),this._video=null,this._paused=!0,this._controlBar=null)}}const T=v;class b extends s.Z{get element(){return this._rootEl}constructor(e){let{position:t=o.MAIN_RIGHT,order:i=9999}=void 0===e?{}:e;super({position:t,order:i}),this._onResize=()=>{this._rangeControl.resize(),this._updateDisplay()},this._onClick=()=>{const e=this._video;e&&!this._rootEl.disabled&&(e.source.muted=!e.source.muted)},this._onVolumeChange=()=>{const e=this._buttonEl,t=this._video,i=this._controlBar;if(!t||!i)return;const s=i.className;t.source.muted||0===t.source.volume?(e.classList.add(s.MUTED_BUTTON),e.classList.remove(s.UNMUTED_BUTTON)):(e.classList.add(s.UNMUTED_BUTTON),e.classList.remove(s.MUTED_BUTTON)),this._updateDisplay()},this._onHold=e=>{const t=this._video,i=this._controlBar;if(!t||!i)return;const s=i.className;t.source.volume=e,this._rootEl.classList.add(s.FIXED),i.containerEl.classList.add(s.FIXED),this._updateDisplay()},this._onChange=e=>{const t=this._video;t&&(t.source.volume=e,t.source.muted=!(e>0),this._updateDisplay())},this._onRelease=()=>{const e=this._controlBar;if(!e)return;const t=e.className;this._rootEl.classList.remove(t.FIXED),e.containerEl.classList.remove(t.FIXED)},this._updateDisplay=()=>{const e=this._video,t=this._rootEl;if(!e)return;if(!e.hasAudio())return void(t.disabled=!0);t.disabled=!1;const i=e.source.muted?0:e.source.volume;this._rangeControl.updateStyle(i)},this._controlBar=null,this._rangeControl=new m,this._createElements(),this._video=null}init(e,t){var i;const s=null==(i=e.mesh)?void 0:i.getTexture(),n=this._rootEl,r=this._buttonEl,o=this._rangeControl,a=t.className,l=a.UNAVAILABLE;s&&s.isVideo()?(n.classList.remove(l),n.classList.add(a.CONTROLS_BUTTON),n.classList.add(a.VOLUME_ROOT),r.classList.add(a.CONTROLS_BUTTON),s.source.muted?r.classList.add(a.MUTED_BUTTON):r.classList.add(a.UNMUTED_BUTTON),e.on(p.FP.RESIZE,this._onResize),n.addEventListener(_.FP.TRANSITION_END,this._onResize),r.addEventListener(_.FP.CLICK,this._onClick),s.source.addEventListener(_.FP.VIDEO_VOLUME_CHANGE,this._onVolumeChange),s.source.addEventListener(_.FP.VIDEO_LOADED_DATA,this._updateDisplay),s.source.addEventListener(_.FP.VIDEO_CAN_PLAYTHROUGH,this._updateDisplay),o.init(a),o.on(c.QA.INPUT_START,this._onHold),o.on(c.QA.CHANGE,this._onChange),o.on(c.QA.INPUT_END,this._onRelease),this._controlBar=t,this._video=s,this._updateDisplay()):n.classList.add(l)}destroy(e){const t=this._video,i=this._buttonEl,s=this._rootEl;s.className="",i.className="",e.off(p.FP.RESIZE,this._onResize),s.removeEventListener(_.FP.TRANSITION_END,this._onResize),i.removeEventListener(_.FP.CLICK,this._onClick),t&&(t.source.removeEventListener(_.FP.VIDEO_VOLUME_CHANGE,this._onVolumeChange),t.source.removeEventListener(_.FP.VIDEO_LOADED_DATA,this._updateDisplay),t.source.removeEventListener(_.FP.VIDEO_CAN_PLAYTHROUGH,this._updateDisplay)),this._controlBar=null,this._rangeControl.destroy(),this._video=null}_createElements(){const e=document.createElement(_.L2),t=document.createElement(_.yy);e.appendChild(this._rangeControl.rootEl),e.appendChild(t),e.title="Toggle Mute",this._rootEl=e,this._buttonEl=t}}const w=b;class f extends s.Z{constructor(e){let{position:t=o.MAIN_RIGHT,order:i=9999}=void 0===e?{}:e;super({position:t,order:i}),this._onClick=()=>{const e=this._targetEl;e&&((0,u.rm)()?this._exitFullscreen():this._requestFullscreen(e))},this._onFullscreenChange=()=>{const e=this.element,t=this._controlBar;if(!t)return;const i=t.className;(0,u.rm)()?(e.classList.add(i.FULLSCREEN_EXIT_BUTTON),e.classList.remove(i.FULLSCREEN_BUTTON)):(e.classList.add(i.FULLSCREEN_BUTTON),e.classList.remove(i.FULLSCREEN_EXIT_BUTTON))},this.element=document.createElement(_.L2),this.element.title="Toggle Fullscreen",this._controlBar=null,this._targetEl=null}init(e,t){const i=this.element,s=t.className;this._fullscreenAvailable()?(i.classList.add(s.CONTROLS_BUTTON),i.classList.remove(s.UNAVAILABLE),i.addEventListener(_.FP.CLICK,this._onClick),this._addFullscreenHandlers(),(0,u.rm)()?i.classList.add(s.FULLSCREEN_EXIT_BUTTON):i.classList.add(s.FULLSCREEN_BUTTON),this._controlBar=t,this._targetEl=e.rootEl):i.classList.add(s.UNAVAILABLE)}destroy(){const e=this.element;e.className="",e.removeEventListener(_.FP.CLICK,this._onClick),this._removeFullscreenHandlers(),this._controlBar=null,this._targetEl=null}_fullscreenAvailable(){return _.ml.some((e=>!!document[e]))}_requestFullscreen(e){for(const t of _.ml){const i=e[t];if(i)return void i.call(e)}}_exitFullscreen(){for(const e of _.H3){const t=document[e];if(t)return void t.call(document)}}_addFullscreenHandlers(){_.GS.forEach((e=>{document.addEventListener(e,this._onFullscreenChange)}))}_removeFullscreenHandlers(){_.GS.forEach((e=>{document.removeEventListener(e,this._onFullscreenChange)}))}}const N=f;class C extends s.Z{constructor(e){let{position:t=o.MAIN_LEFT,order:i=9999}=void 0===e?{}:e;super({position:t,order:i}),this._onTimeUpdate=()=>{const e=this._video;e&&(this._currentTime=e.source.currentTime,this._updateDisplay())},this._onDurationChange=()=>{const e=this._video;e&&(this._duration=e.source.duration,this._updateDisplay())},this._onCustomTimeChange=e=>{this._currentTime=e.detail.time,this._updateDisplay()},this.element=document.createElement(_.yy),this._video=null,this._currentTime=0,this._duration=0}init(e,t){var i;const s=null==(i=e.mesh)?void 0:i.getTexture(),n=this.element,r=t.className;s&&s.isVideo()?(n.classList.add(r.VIDEO_TIME_DISPLAY),n.classList.remove(r.UNAVAILABLE),s.source.addEventListener(_.FP.VIDEO_TIME_UPDATE,this._onTimeUpdate),s.source.addEventListener(_.FP.VIDEO_DURATION_CHANGE,this._onDurationChange),s.source.addEventListener(c.r6,this._onCustomTimeChange),this._video=s,this._currentTime=s.source.currentTime,this._duration=s.source.duration,this._updateDisplay()):n.classList.add(r.UNAVAILABLE)}destroy(){const e=this._video;e&&(this.element.className="",e.source.removeEventListener(_.FP.VIDEO_TIME_UPDATE,this._onTimeUpdate),e.source.removeEventListener(_.FP.VIDEO_DURATION_CHANGE,this._onDurationChange),e.source.removeEventListener(c.r6,this._onCustomTimeChange),this._video=null)}_updateDisplay(){const e=this._currentTime,t=Math.floor(e/60),i=Math.floor(e-60*t),s=i<10?"0"+i:i,n=this._duration,r=Math.floor(n/60),o=Math.floor(n-60*r),a=o<10?"0"+o:o;this.element.innerText=t+":"+s+" / "+r+":"+a}}const O=C;class A extends s.Z{constructor(e){let{resetCamera:t=!0,position:i=o.TOP_RIGHT,order:s=9999}=void 0===e?{}:e;super({position:i,order:s}),this._onClick=()=>{const e=this._viewer,t=this.resetCamera;if(!e||!t)return;const{yaw:i=e.initialYaw,pitch:s=e.initialPitch,zoom:n=e.initialZoom,duration:r=500}=(0,u.PO)(t);e.camera.animateTo({yaw:i,pitch:s,zoom:n,duration:r})},this._updatePie=e=>{let{target:t}=e;const i=this._piePathEl,s=this._rangeCircleEl,n=t.camera,r=n.getHorizontalFov(),o=n.getYawRange(n.zoom),a=.5*r,l=24*Math.PI,h=l*r/360,c=l*(n.yaw+a+90)/360;if(i.setAttribute("stroke-dasharray",h+" "+(l-h)),i.setAttribute("stroke-dashoffset",""+c),isFinite(o.min)&&isFinite(o.max)){const e=45*Math.PI,t=((0,u.zc)(o.min,-180,180)-a)/360,i=((0,u.zc)(o.max,-180,180)+a)/360,n=e*Math.abs(i-t),r=-e*(t-.25);s.setAttribute("stroke-dasharray",n+" "+(e-n)),s.setAttribute("stroke-dashoffset",""+r)}else s.setAttribute("stroke-dasharray",""),s.setAttribute("stroke-dashoffset","")},this.element=document.createElement(_.yy),this.element.title="Reset view",this.resetCamera=t,this._createPieElements(),this._viewer=null}init(e,t){const i=this.element;e.initialized?this._updatePie({target:e}):e.once(p.FP.READY,this._updatePie);const s=t.className.PIEVIEW_ROOT;i.classList.add(s),this.resetCamera&&i.addEventListener(_.FP.CLICK,this._onClick),e.on(p.FP.VIEW_CHANGE,this._updatePie),this._viewer=e}destroy(e){const t=this.element;t.removeEventListener(_.FP.CLICK,this._onClick),t.className="",e.off(p.FP.READY,this._updatePie),e.off(p.FP.VIEW_CHANGE,this._updatePie),this._viewer=null}_createPieElements(){const e=this.element,t=document.createElementNS(c.YB,"svg");t.setAttribute("viewBox","0 0 48 48"),t.setAttribute("width","100%"),t.setAttribute("height","100%");const i=document.createElementNS(c.YB,"circle");i.setAttribute("stroke","currentColor"),i.setAttribute("fill","transparent"),i.setAttribute("cx","24"),i.setAttribute("cy","24"),i.setAttribute("r","12"),i.setAttribute("stroke-width","24"),t.appendChild(i);const s=document.createElementNS(c.YB,"circle");s.setAttribute("stroke","currentColor"),s.setAttribute("fill","transparent"),s.setAttribute("cx","24"),s.setAttribute("cy","24"),s.setAttribute("r","22.5"),s.setAttribute("stroke-width","3"),t.appendChild(s),e.appendChild(t),this._piePathEl=i,this._rangeCircleEl=s}}const R=A;class P extends s.Z{constructor(e){let{position:t=o.MAIN_RIGHT,order:i=9999}=void 0===e?{}:e;super({position:t,order:i}),this._onClick=()=>{const e=this._viewer;e&&e.vr.enter()},this.element=document.createElement(_.L2),this.element.title="Enter VR",this._viewer=null}init(e,t){const i=this.element,s=t.className;i.classList.add(s.UNAVAILABLE),i.classList.add(s.VR_BUTTON),i.classList.add(s.CONTROLS_BUTTON),e.vr.isAvailable().then((e=>{e&&i.classList.remove(s.UNAVAILABLE)})),i.addEventListener(_.FP.CLICK,this._onClick),this._viewer=e}destroy(){const e=this.element;e.className="",e.removeEventListener(_.FP.CLICK,this._onClick),this._viewer=null}}const I=P;var y=i(5821);class L extends s.Z{constructor(e){let{position:t=o.MAIN_RIGHT,order:i=9999}=void 0===e?{}:e;super({position:t,order:i}),this._onClick=()=>{const e=this._viewer,t=this._controlBar;if(!e||!t)return;const i=e.control.gyro;i.enabled?i.disable():y.Z.requestSensorPermission().then((e=>{e?i.enable():this.element.classList.add(t.className.UNAVAILABLE)}))},this._updateStyle=()=>{const e=this.element,t=this._viewer,i=this._controlBar;if(!t||!i)return;const s=t.control.gyro,n=i.className;s.enabled?(e.classList.add(n.GYRO_ENABLED),e.classList.remove(n.GYRO_DISABLED)):(e.classList.add(n.GYRO_DISABLED),e.classList.remove(n.GYRO_ENABLED))},this.element=document.createElement(_.yy),this.element.title="Toggle gyroscope control"}init(e,t){const i=this.element,s=t.className;i.addEventListener(_.FP.CLICK,this._onClick),i.classList.add(s.CONTROLS_BUTTON),i.classList.add(s.UNAVAILABLE);const n=()=>{i.classList.remove(s.UNAVAILABLE),e.control.gyro.on(c.QA.ENABLE,this._updateStyle),e.control.gyro.on(c.QA.DISABLE,this._updateStyle)};(0,u.yj)()?n():y.Z.isAvailable().then((e=>{e&&n()})),this._controlBar=t,this._viewer=e,this._updateStyle()}destroy(e){const t=this.element;e.control.gyro.off(c.QA.ENABLE,this._updateStyle),e.control.gyro.off(c.QA.DISABLE,this._updateStyle),t.removeEventListener(_.FP.CLICK,this._onClick),t.className="",this._controlBar=null,this._viewer=null}}const S=L;const x=class{get enabled(){return!!this._targetEl}get hidden(){return this._controlBar.containerEl.classList.contains(this._hiddenClass)}get _hiddenClass(){return this._controlBar.className.HIDDEN}get _fixedClass(){return this._controlBar.className.FIXED}constructor(e,t){let{initialDelay:i=3e3,delay:s=0,idleDelay:n=3e3}=t;this._onMouseEnter=()=>{this._isCursorInside=!0,this.show()},this._onMouseLeave=()=>{this._isCursorInside=!1,this._hideAfterDelay()},this._onMouseMove=()=>{this._isFullscreen&&this.showTemporaliy()},this._onHold=e=>{this._isGrabbing=!0,"mouse"===e.pointerType&&(this._isCursorInside=!0),window.addEventListener(_.FP.MOUSE_UP,this._onRelease),this.show()},this._onRelease=()=>{this._isGrabbing=!1,window.removeEventListener(_.FP.MOUSE_UP,this._onRelease),this._hideAfterDelay()},this._onVideoPlay=()=>{this._targetEl&&this._controlBar.containerEl.classList.remove(this._fixedClass)},this._onVideoPause=()=>{this._targetEl&&this._controlBar.containerEl.classList.add(this._fixedClass)},this._onFullscreenChange=()=>{this._isFullscreen=(0,u.rm)(),this._isFullscreen&&this._hideAfterDelay()},this._controlBar=e,this._initialDelay=i,this._delay=s,this._idleDelay=n,this._timer=-1,this._isCursorInside=!1,this._isGrabbing=!1,this._isFullscreen=!1,this._video=null,this._targetEl=null}enable(e){var t;this._targetEl&&this.disable(e);const i=this._initialDelay,s=e.rootEl;this._targetEl=e.rootEl,this._timer=window.setTimeout((()=>{this.hide()}),i),s.addEventListener(_.FP.MOUSE_DOWN,this._onHold),s.addEventListener(_.FP.MOUSE_ENTER,this._onMouseEnter),s.addEventListener(_.FP.MOUSE_MOVE,this._onMouseMove),s.addEventListener(_.FP.MOUSE_LEAVE,this._onMouseLeave),this._addFullscreenHandlers();const n=null==(t=e.mesh)?void 0:t.getTexture();n&&n.isVideo()&&(n.isPaused()&&this._controlBar.containerEl.classList.add(this._fixedClass),n.source.addEventListener(_.FP.VIDEO_PLAY,this._onVideoPlay),n.source.addEventListener(_.FP.VIDEO_PAUSE,this._onVideoPause),this._video=n)}disable(e){if(!this._targetEl)return;const t=this._controlBar,i=e.rootEl,s=this._video;i.removeEventListener(_.FP.MOUSE_DOWN,this._onHold),window.removeEventListener(_.FP.MOUSE_UP,this._onRelease),i.removeEventListener(_.FP.MOUSE_ENTER,this._onMouseEnter),i.removeEventListener(_.FP.MOUSE_MOVE,this._onMouseMove),i.removeEventListener(_.FP.MOUSE_LEAVE,this._onMouseLeave),this._removeFullscreenHandlers(),window.clearTimeout(this._timer),t.containerEl.classList.remove(this._fixedClass),s&&(s.source.removeEventListener(_.FP.VIDEO_PLAY,this._onVideoPlay),s.source.removeEventListener(_.FP.VIDEO_PAUSE,this._onVideoPause)),this._isCursorInside=!1,this._isGrabbing=!1,this._video=null,this._targetEl=null}show(){this._clearHideTimer(),this._controlBar.containerEl.classList.remove(this._hiddenClass)}showTemporaliy(){this.show(),this._hideAfterDelay(this._idleDelay)}hide(){this._clearHideTimer(),this._controlBar.containerEl.classList.add(this._hiddenClass)}_clearHideTimer(){this._timer&&(window.clearTimeout(this._timer),this._timer=-1)}_hideAfterDelay(e){void 0===e&&(e=this._delay),this._isGrabbing||!this._isFullscreen&&this._isCursorInside||(this._clearHideTimer(),e<=0?this.hide():this._timer=window.setTimeout((()=>{this.hide()}),e))}_addFullscreenHandlers(){_.GS.forEach((e=>{document.addEventListener(e,this._onFullscreenChange)}))}_removeFullscreenHandlers(){_.GS.forEach((e=>{document.removeEventListener(e,this._onFullscreenChange)}))}};const D=class{constructor(){this._onKeyDown=e=>{const t=this._video;if(!t)return;e.preventDefault(),e.stopPropagation();const i=t.source,s=null!=e.keyCode?_.Dx[e.keyCode]:_.$[e.key];switch(s){case"LEFT":case"RIGHT":return this._changeVideoTime(i,"RIGHT"===s);case"UP":case"DOWN":return this._changeVideoVolume(i,"UP"===s)}(e.keyCode===_.jN||e.key===_.kq)&&this._toggleVideo(t)}}enable(e,t){this._video=t,e.addEventListener(_.FP.KEY_DOWN,this._onKeyDown,!0)}disable(e){this._video=null,e.removeEventListener(_.FP.KEY_DOWN,this._onKeyDown,!0)}_changeVideoTime(e,t){const i=t?5:-5;e.currentTime+=i,e.dispatchEvent(new CustomEvent(c.r6,{detail:{time:e.currentTime}}))}_changeVideoVolume(e,t){const i=t?.1:-.1;e.muted?e.volume=(0,u.uZ)(i,0,1):e.volume=(0,u.uZ)(e.volume+i,0,1),e.volume>0?e.muted=!1:e.muted=!0}_toggleVideo(e){e.isPaused()?e.source.play():e.source.pause()}};class U{get rootEl(){return this._rootEl}get containerEl(){return this._containerEl}get backgroundEl(){return this._bgEl}get items(){return this._items}get customItems(){return this._customItems}constructor(e){var t;let{autoHide:i,showBackground:s,clickToPlay:n=!0,keyboardControls:r=!0,progressBar:o=!0,playButton:a=!0,volumeButton:l=!0,fullscreenButton:h=!0,videoTime:c=!0,pieView:_=!0,vrButton:d=!0,gyroButton:m=!0,className:p={},customItems:E=[]}=void 0===e?{}:e;this._onStaticClick=e=>{let{target:t,isTouch:i}=e;const s=this._autoHider;if(i){if(!s.enabled)return;s.hidden?s.showTemporaliy():s.hide()}else{var n;if(!this.clickToPlay)return;const e=null==(n=t.mesh)?void 0:n.getTexture();if(!e||!e.isVideo())return;e.isPaused()?e.source.play():e.source.pause()}},this._onNewSrcLoad=e=>{let{target:t}=e;const i=this._items;this._updateBackground(t),this._updateAutoHide(t),this._updateKeyboardHandler(t),Object.keys(i).forEach((e=>{i[e].forEach((e=>{e.destroy(t,this),e.init(t,this)}))}))},this.autoHide=i,this.showBackground=s,this.clickToPlay=n,this.keyboardControls=r,this.progressBar=o,this.playButton=a,this.volumeButton=l,this.fullscreenButton=h,this.videoTime=c,this.pieView=_,this.vrButton=d,this.gyroButton=m,this.className={...U.DEFAULT_CLASS,...p};const g=null!=(t=p.CONTROLS_ROOT)?t:U.DEFAULT_CLASS.CONTROLS_ROOT;this._rootEl=(0,u.az)(g),this._createPositionWrappers(),this._items=Object.keys(U.POSITION).reduce(((e,t)=>(e[U.POSITION[t]]=[],e)),{}),this._customItems=E,this._autoHider=new x(this,(0,u.PO)(i)),this._videoControl=new D,E.forEach((e=>{this._items[e.position].push(e)}))}init(e){const t=e.rootEl,i=this._rootEl,s=this._createDefaultItems();this._updateBackground(e),this._updateAutoHide(e),this._updateKeyboardHandler(e),t.appendChild(i),this._addItem(e,s),this._addItem(e,this._customItems),e.on(p.FP.PROJECTION_CHANGE,this._onNewSrcLoad),e.on(p.FP.STATIC_CLICK,this._onStaticClick)}destroy(e){const t=e.rootEl,i=this._rootEl,s=this._items;i.parentElement===t&&t.removeChild(i),Object.keys(s).forEach((t=>{s[t].forEach((t=>{t.destroy(e,this)})),s[t]=[]})),this._clearItemElements(),this._autoHider.disable(e),this._videoControl.disable(t),e.off(p.FP.PROJECTION_CHANGE,this._onNewSrcLoad),e.off(p.FP.STATIC_CLICK,this._onStaticClick)}_addItem(e,t){for(const i of t){const t=this._items[i.position],s=this._wrapperEl[i.position],n=(0,u.cx)(t,(e=>e.order>i.order));if(n>=0){const e=t[n].element;t.splice(n,0,i),s.insertBefore(i.element,e)}else t.push(i),s.appendChild(i.element);i.init(e,this)}}_createPositionWrappers(){const e={...U.DEFAULT_CLASS,...this.className},t=this._rootEl,i=(0,u.az)(e.CONTROLS_BG),s=(0,u.az)(e.CONTROLS_FLOAT_LEFT),n=(0,u.az)(e.CONTROLS_FLOAT_RIGHT);t.appendChild(s),t.appendChild(n);const r=(0,u.az)(e.CONTROLS_MAIN),o=(0,u.az)(e.CONTROLS_TOP),a=(0,u.az)(e.CONTROLS_BOTTOM),l=(0,u.az)(e.CONTROLS_MID),h=(0,u.az)(e.CONTROLS_LEFT),c=(0,u.az)(e.CONTROLS_RIGHT);l.appendChild(h),l.appendChild(c),r.appendChild(i),r.appendChild(o),r.appendChild(l),r.appendChild(a),t.appendChild(r),this._bgEl=i,this._containerEl=r,this._wrapperEl={[U.POSITION.MAIN_TOP]:o,[U.POSITION.MAIN_LEFT]:h,[U.POSITION.MAIN_RIGHT]:c,[U.POSITION.MAIN_BOTTOM]:a,[U.POSITION.TOP_LEFT]:s,[U.POSITION.TOP_RIGHT]:n}}_clearItemElements(){Object.keys(U.POSITION).map((e=>U.POSITION[e])).map((e=>this._wrapperEl[e])).forEach((e=>{for(;e.firstChild;)e.removeChild(e.firstChild)}))}_updateAutoHide(e){const t=this.autoHide,i=this._autoHider;if(null!=t)t?i.enable(e):i.disable(e);else{var s;const t=null==(s=e.mesh)?void 0:s.getTexture();t&&t.isVideo()?i.enable(e):i.disable(e)}}_updateBackground(e){var t;const i=this._bgEl,s=this.showBackground,n=null!=(t=this.className.HIDDEN)?t:U.DEFAULT_CLASS.HIDDEN;if(null!=s)s?i.classList.remove(n):i.classList.add(n);else{var r;const t=null==(r=e.mesh)?void 0:r.getTexture();t&&t.isVideo()?i.classList.remove(n):i.classList.add(n)}}_updateKeyboardHandler(e){var t;const i=e.rootEl,s=this._videoControl,n=null==(t=e.mesh)?void 0:t.getTexture();this.keyboardControls&&n&&n.isVideo()?s.enable(i,n):s.disable(i)}_createDefaultItems(){const e=[];return this.progressBar&&e.push(new g((0,u.PO)(this.progressBar))),this.playButton&&e.push(new T((0,u.PO)(this.playButton))),this.volumeButton&&e.push(new w((0,u.PO)(this.volumeButton))),this.gyroButton&&e.push(new S((0,u.PO)(this.gyroButton))),this.vrButton&&e.push(new I((0,u.PO)(this.vrButton))),this.fullscreenButton&&e.push(new N((0,u.PO)(this.fullscreenButton))),this.videoTime&&e.push(new O((0,u.PO)(this.videoTime))),this.pieView&&e.push(new R((0,u.PO)(this.pieView))),e}}U.DEFAULT_CLASS=r,U.POSITION=o;const M=U},6577:(e,t,i)=>{i.d(t,{Z:()=>s});const s=class{constructor(e){this.position=e.position,this.order=e.order}}},9580:(e,t,i)=>{i.d(t,{Z:()=>p});var s=i(4098),n=i(8388),r=i(8602);class o extends r.Z{constructor(e,t,i){super(),this.texture=t,this._webglTexture=e.createWebGLCubeTexture(t,t.width),this._cubemapOrder=i}destroy(e){this.texture.destroy(),e.deleteTexture(this._webglTexture)}update(e,t,i){const s=this.texture;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,s.flipY),e.uniform1i(t,0),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_CUBE_MAP,this._webglTexture);(0,n.rM)(s.sources,this._cubemapOrder).forEach(((t,s)=>{i?e.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,0,0,e.RGBA,e.UNSIGNED_BYTE,t):e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t)})),s.isVideo()||(this.needsUpdate=!1)}}const a=o;const l=class{get size(){return this._size}constructor(e,t){this.texture=e,this._renderingOrder=(0,n.rM)((0,n.w6)(6),t);const i=document.createElement("canvas");this._calcRenderingSize(),i.width=this._size,i.height=this._size,this._canvas=i,this._ctx=i.getContext("2d")}destroy(){const e=this._canvas;e.width=1,e.height=1,this._canvas=null}draw(e,t){const i=this._size,s=this.texture;let n=0;for(let r=0;r<this._row;r++)for(let o=0;o<this._column;o++){const a=i*o,l=i*r,h=this._renderingOrder[n];this._ctx.drawImage(s.source,a,l,i,i,0,0,i,i),t?e.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+h,0,0,0,e.RGBA,e.UNSIGNED_BYTE,this._canvas):e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+h,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this._canvas),n++}}_calcRenderingSize(){const{width:e,height:t}=this.texture,i=e/t;i===1/6?(this._size=e,this._row=6,this._column=1):6===i?(this._size=t,this._row=1,this._column=6):i===2/3?(this._size=.5*e,this._row=3,this._column=2):(this._size=e/3,this._row=2,this._column=3)}};class h extends r.Z{get texture(){return this._painter.texture}constructor(e,t,i){super(),this._painter=new l(t,i),this._webglTexture=e.createWebGLCubeTexture(t,this._painter.size)}destroy(e){e.deleteTexture(this._webglTexture),this._painter.destroy()}update(e,t,i){const s=this.texture;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1),e.uniform1i(t,0),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_CUBE_MAP,this._webglTexture),this._painter.draw(e,i),s.isVideo()||(this.needsUpdate=!1)}}const c=h;var u=i(1815),_=i(9290),d=i(7337);class m extends s.Z{constructor(e){super(e);const{cubemapOrder:t="RLUDFB",cubemapFlipX:i=!1}=e;this._cubemapOrder=t,this._cubemapFlipX=i}createMesh(e,t){const i=this._cubemapOrder,s=this._cubemapFlipX,n={uTexture:t.isCube()?new a(e,t,i):new c(e,t,i)},r=new d.Z({order:i}),o=new _.Z(e,"#define GLSLIFY 1\nattribute vec3 position;\nattribute vec2 uv;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\n\nvarying highp vec3 vPos;\n\nvoid main() {\n  vPos = position;\n  gl_Position = uPMatrix * uMVMatrix * vec4(position, 1.0);\n}\n","#define GLSLIFY 1\nuniform samplerCube uTexture;\n\nvarying highp vec3 vPos;\n\nvoid main() {\n  // As textureCube uses (+Z as front), we flip that\n  gl_FragColor = textureCube(uTexture, vec3(vPos.x, vPos.y, -vPos.z));\n}\n",n),l=e.createVAO(r,o),h=new u.Z(l,o);return s&&(h.scale[0]=-1),h.updateMatrix(),h}}const p=m},6563:(e,t,i)=>{i.d(t,{Z:()=>u});var s=i(4098),n=i(2278),r=i(9290),o=i(8155),a=i(1815),l=i(5846),h=i(459);class c extends s.Z{constructor(e){super(e)}createMesh(e,t){const i={uTexture:new n.Z(e,t)},s=new o.Z,c=new r.Z(e,l.Z,h.Z,i),u=e.createVAO(s,c);return new a.Z(u,c)}}const u=c},4098:(e,t,i)=>{i.d(t,{Z:()=>s});const s=class{constructor(e){let{src:t,video:i=!1}=e;this.src=t,this.video=i}updateCamera(e){e.resetRange()}updateControl(e){e.ignoreZoomScale=!1}}},8602:(e,t,i)=>{i.d(t,{Z:()=>s});const s=class{constructor(){this.needsUpdate=!0}destroy(e){}}},2278:(e,t,i)=>{i.d(t,{Z:()=>r});var s=i(8602);class n extends s.Z{constructor(e,t){super(),this.texture=t,this._webglTexture=e.createWebGLTexture(t)}destroy(e){this.texture.destroy(),e.deleteTexture(this._webglTexture)}update(e,t,i){const s=this.texture,n=s.isVideo();e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,s.flipY),e.uniform1i(t,0),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this._webglTexture),!n&&i?e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,s.source):e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,s.source),n||(this.needsUpdate=!1)}}const r=n},8388:(e,t,i)=>{i.d(t,{HD:()=>h,Jx:()=>b,PO:()=>T,S3:()=>u,az:()=>c,b6:()=>A,cx:()=>v,gE:()=>d,h4:()=>C,nk:()=>O,rM:()=>w,rm:()=>f,sb:()=>_,t7:()=>E,uZ:()=>p,w6:()=>m,yj:()=>N,zc:()=>g});var s=i(7191),n=i(7962),r=i(9658),o=i(4949),a=i(1028),l=i(9952);const h=e=>"string"==typeof e,c=function(e,t){void 0===t&&(t=a.yy);const i=document.createElement(t);return i.classList.add(e),i},u=(e,t)=>{let i=null;if(h(e)){const s=(t||document).querySelector(e);if(!s)return null;i=s}else(s=e)&&s.nodeType===Node.ELEMENT_NODE&&(i=e);var s;return i},_=(e,t)=>{const i=u(e,t);if(!i)throw h(e)?new r.Z(o.ZP.MESSAGES.ELEMENT_NOT_FOUND(e),o.ZP.CODES.ELEMENT_NOT_FOUND):new r.Z(o.ZP.MESSAGES.WRONG_TYPE(e,["HTMLElement","string"]),o.ZP.CODES.WRONG_TYPE);return i},d=(e,t)=>{const i=e.querySelector(t);if(!i)throw new r.Z(o.ZP.MESSAGES.CANVAS_NOT_FOUND,o.ZP.CODES.CANVAS_NOT_FOUND);return i},m=e=>!e||e<=0?[]:Array.apply(0,Array(e)).map(((e,t)=>t)),p=(e,t,i)=>Math.max(Math.min(e,i),t),E=(e,t,i)=>e*(1-i)+t*i,g=(e,t,i)=>{const s=Math.abs(i-t);if(e<t){e=i-(t-e)%s}else if(e>i){e=t+(e-i)%s}return e},v=(e,t)=>{for(let i=0;i<e.length;i++)if(t(e[i]))return i;return-1},T=e=>"object"==typeof e?e:{},b=(e,t)=>2*Math.atan(Math.tan(.5*e)/t),w=function(e,t,i){return void 0===i&&(i="RLUDFB"),i.split("").map((e=>t.indexOf(e))).map((t=>e[t]))},f=()=>{if(!document)return!1;for(const e of a.bQ)if(document[e])return!0;return!1},N=()=>window.isSecureContext&&!!DeviceMotionEvent&&"requestPermission"in DeviceMotionEvent,C=(e,t)=>Math.tan(l.ZX*e*.5)/Math.tan(l.ZX*t*.5),O=(e,t,i,n)=>{s.yR(e);const r=p(i,-89.99,89.99);return s.uD(e,e,t*l.ZX),s.lM(e,e,r*l.ZX),s.jI(e,e,n*l.ZX),e},A=e=>{const t=e[0],i=e[1],s=e[2],r=e[3],o=t*t+i*i+s*s+r*r,a=t*r-i*s;let h,c;if(a>.499995*o)h=Math.PI/2,c=2*Math.atan2(i,t);else if(a<-.499995*o)h=-Math.PI/2,c=-2*Math.atan2(i,t);else{const t=n.al(0,0,1),i=n.al(0,1,0);n.VC(t,t,e),n.VC(i,i,e);const s=Math.sqrt(t[0]*t[0]+t[2]*t[2]);h=Math.atan2(-t[1],s),c=Math.atan2(t[0],t[2])}return{pitch:p(h*l.jl,-90,90),yaw:g(c*l.jl,0,360)}}},547:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>h,contentTitle:()=>a,default:()=>_,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var s=i(7462),n=(i(7294),i(3905)),r=i(241);const o={title:"\uc2dc\uc791\ud558\uae30",id:"quick-start",slug:"/quick-start",sidebar_position:2},a=void 0,l={unversionedId:"tutorials/Quick Start/quick-start",id:"tutorials/Quick Start/quick-start",title:"\uc2dc\uc791\ud558\uae30",description:"View360\uc758 \ub514\ud3f4\ud2b8 \uc2a4\ud0c0\uc77c \uc0ac\uc6a9\ud558\uae30",source:"@site/i18n/ko/docusaurus-plugin-content-docs/current/tutorials/Quick Start/Quick Start.mdx",sourceDirName:"tutorials/Quick Start",slug:"/quick-start",permalink:"/egjs-view360/ko/docs/quick-start",draft:!1,editUrl:"https://github.com/naver/egjs-view360/edit/master/demo/docs/tutorials/Quick Start/Quick Start.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"\uc2dc\uc791\ud558\uae30",id:"quick-start",slug:"/quick-start",sidebar_position:2},sidebar:"docs",previous:{title:"\uc124\uce58 \ubc29\ubc95",permalink:"/egjs-view360/ko/docs/"},next:{title:"React",permalink:"/egjs-view360/ko/docs/quick-start-react"}},h={},c=[{value:"View360\uc758 \ub514\ud3f4\ud2b8 \uc2a4\ud0c0\uc77c \uc0ac\uc6a9\ud558\uae30",id:"view360\uc758-\ub514\ud3f4\ud2b8-\uc2a4\ud0c0\uc77c-\uc0ac\uc6a9\ud558\uae30",level:2},{value:"\uae30\ubcf8 HTML \uad6c\uc870",id:"\uae30\ubcf8-html-\uad6c\uc870",level:2},{value:"\uc5b4\ub5a4 \ud504\ub85c\uc81d\uc158\uc744 \uc0ac\uc6a9\ud574\uc57c\ud560\uc9c0 \uc54c\uc544\ubd05\uc2dc\ub2e4.",id:"\uc5b4\ub5a4-\ud504\ub85c\uc81d\uc158\uc744-\uc0ac\uc6a9\ud574\uc57c\ud560\uc9c0-\uc54c\uc544\ubd05\uc2dc\ub2e4",level:2},{value:"\uc774\ubbf8\uc9c0\ub97c \ud45c\uc2dc\ud574\ubd05\uc2dc\ub2e4 - 1. \ubc88\ub4e4\ub7ec\ub97c \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0",id:"\uc774\ubbf8\uc9c0\ub97c-\ud45c\uc2dc\ud574\ubd05\uc2dc\ub2e4---1-\ubc88\ub4e4\ub7ec\ub97c-\uc0ac\uc6a9\ud558\ub294-\uacbd\uc6b0",level:2},{value:"\uc774\ubbf8\uc9c0\ub97c \ud45c\uc2dc\ud574\ubd05\uc2dc\ub2e4 - 2. CDN \uc2a4\ud06c\ub9bd\ud2b8\ub97c \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0",id:"\uc774\ubbf8\uc9c0\ub97c-\ud45c\uc2dc\ud574\ubd05\uc2dc\ub2e4---2-cdn-\uc2a4\ud06c\ub9bd\ud2b8\ub97c-\uc0ac\uc6a9\ud558\ub294-\uacbd\uc6b0",level:2},{value:"\uc635\uc158 \uc124\uc815\ud558\uae30, \uc774\ubca4\ud2b8 \ub4e3\uae30, \ud50c\ub7ec\uadf8\uc778 \ucd94\uac00\ud558\uae30 ...",id:"\uc635\uc158-\uc124\uc815\ud558\uae30-\uc774\ubca4\ud2b8-\ub4e3\uae30-\ud50c\ub7ec\uadf8\uc778-\ucd94\uac00\ud558\uae30-",level:2}],u={toc:c};function _(e){let{components:t,...o}=e;return(0,n.kt)("wrapper",(0,s.Z)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"view360\uc758-\ub514\ud3f4\ud2b8-\uc2a4\ud0c0\uc77c-\uc0ac\uc6a9\ud558\uae30"},"View360\uc758 \ub514\ud3f4\ud2b8 \uc2a4\ud0c0\uc77c \uc0ac\uc6a9\ud558\uae30"),(0,n.kt)("p",null,"\uba3c\uc800, View360\uc774 \uc81c\uacf5\ud558\ub294 \ub514\ud3f4\ud2b8 \uc2a4\ud0c0\uc77c\uc744 \uc0ac\uc6a9\ud558\uae30 \uc704\ud574\uc120, View360\uc774 \uc81c\uacf5\ud558\ub294 CSS \ud639\uc740 SASS\ud30c\uc77c\uc744 \ud398\uc774\uc9c0 \ub0b4\uc5d0 \ud3ec\ud568\uc2dc\ucf1c\uc57c \ud569\ub2c8\ub2e4."),(0,n.kt)("p",null,"\uac00\uc7a5 \uac04\ub2e8\ud55c \ubc29\ubc95\uc740, CDN \ub9c1\ud06c\ub97c \uc774\uc6a9\ud574\uc11c ",(0,n.kt)("inlineCode",{parentName:"p"},"<head>")," \ud0dc\uadf8 \ub0b4\uc5d0 CSS \ud30c\uc77c\uc744 \ud3ec\ud568\uc2dc\ud0a4\ub294 \uac83\uc785\ub2c8\ub2e4."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-html"},'<head>\n  \x3c!-- \ub2e4\ub978 \ud56d\ubaa9\ub4e4 --\x3e\n  <link rel="stylesheet" href="https://naver.github.io/egjs-view360/release/latest/css/view360.min.css">\n  \x3c!-- \ub2e4\ub978 \ud56d\ubaa9\ub4e4 --\x3e\n</head>\n')),(0,n.kt)("p",null,"\ud639\uc740 React \ub4f1 \uc77c\ubd80 \ud504\ub808\uc784\uc6cc\ud06c\uc5d0\uc11c\ub294 \ud658\uacbd\uc5d0 \ub530\ub77c \ub2e4\uc74c\uacfc \uac19\uc774 CSS \ud30c\uc77c\uc744 \uc9c1\uc811 \uc784\ud3ec\ud2b8\ud558\ub294 \uac83\ub3c4 \uac00\ub2a5\ud569\ub2c8\ub2e4."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-js"},'import "@egjs/view360/css/view360.min.css";\n')),(0,n.kt)("p",null,"\ud604\uc7ac \uc0ac\uc6a9\uc911\uc774\uc2e0 \ud658\uacbd\uc5d0\uc11c CSS \ud30c\uc77c\uc744 \uc784\ud3ec\ud2b8\ud558\ub294 \ubc29\ubc95\uc744 \ud655\uc778\ud574\ubcf4\uc2dc\uace0, \uc801\uc808\ud55c \ubc29\ubc95\uc744 \uc0ac\uc6a9\ud574\uc8fc\uc138\uc694."),(0,n.kt)("p",null,"View360\uc740 CSS \ud30c\uc77c\uacfc SASS \ud30c\uc77c\uc744 \ub2e4\uc74c\uacfc \uac19\uc740 \ud615\ud0dc\ub85c \uc81c\uacf5\ud569\ub2c8\ub2e4."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"@egjs/view360/css/*")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"@egjs/view360/sass/*"))),(0,n.kt)("admonition",{type:"tip"},(0,n.kt)("p",{parentName:"admonition"},"\ud504\ub808\uc784\uc6cc\ud06c \ud328\ud0a4\uc9c0\uc758 \uacbd\uc6b0 \uac01\uac01 ",(0,n.kt)("inlineCode",{parentName:"p"},"@egjs/view360"),"\uc744 \uc758\uc874\uc131 \ubaa8\ub4c8\ub85c \ubcf4\uc720\ud558\uace0 \uc788\uae30 \ub54c\ubb38\uc5d0 \uc704\uc640 \uac19\uc774 \uc0ac\uc6a9\ud558\uc2e4 \uc218\ub3c4 \uc788\uc9c0\ub9cc,",(0,n.kt)("br",{parentName:"p"}),"\n","\uac01\uac01\uc758 \ud504\ub808\uc784\uc6cc\ud06c \ud328\ud0a4\uc9c0 \ub0b4\uc5d0\uc11c\ub3c4 \ub3d9\uc77c\ud55c \ud30c\uc77c\uc744 export\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4.",(0,n.kt)("br",{parentName:"p"}),"\n","\ub54c\ubb38\uc5d0, \ub2e4\uc74c\uacfc \uac19\uc774 \ud504\ub808\uc784\uc6cc\ud06c \ud328\ud0a4\uc9c0\ub97c \uc0ac\uc6a9\ud558\uc154\ub3c4 \uc644\uc804\ud788 \ub3d9\uc77c\ud55c \ud30c\uc77c\uc744 \uc0ac\uc6a9\ud558\uc2e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,n.kt)("pre",{parentName:"admonition"},(0,n.kt)("code",{parentName:"pre",className:"language-js"},'// @egjs/view360/css/view360.min.css\uc640 \ub3d9\uc77c\ud55c \ud30c\uc77c\uc785\ub2c8\ub2e4.\nimport "@egjs/react-view360/css/view360.min.css";\n'))),(0,n.kt)("p",null,"\uae30\ubcf8\uc801\uc73c\ub85c\ub294 \ubaa8\ub4e0 \uc2a4\ud0c0\uc77c\uc774 \ubc88\ub4e4\ub9c1\ub41c ",(0,n.kt)("inlineCode",{parentName:"p"},"view360.min.css"),"\ud30c\uc77c\uc744 (\ud639\uc740 ",(0,n.kt)("inlineCode",{parentName:"p"},"sass/view360.sass"),") \uc0ac\uc6a9\ud574\uc8fc\uc2dc\uba74 \ub429\ub2c8\ub2e4.",(0,n.kt)("br",{parentName:"p"}),"\n","\ud639\uc740, \ud544\uc694\uc5c6\ub294 \uc2a4\ud0c0\uc77c\uc744 \ubc30\uc81c\ud558\uc2dc\ub824\uba74 \ud2b9\uc815 CSS \ud30c\uc77c\ub9cc \uc784\ud3ec\ud2b8\ud558\uc2e4 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4.",(0,n.kt)("br",{parentName:"p"}),"\n","\uc790\uc138\ud55c \ub0b4\uc6a9\uc740 ",(0,n.kt)("a",{parentName:"p",href:"./styles#css"},"\uc2a4\ud0c0\uc77c \uc124\uc815")," \ubb38\uc11c\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694."),(0,n.kt)("h2",{id:"\uae30\ubcf8-html-\uad6c\uc870"},"\uae30\ubcf8 HTML \uad6c\uc870"),(0,n.kt)("admonition",{type:"info"},(0,n.kt)("p",{parentName:"admonition"},"\ud504\ub808\uc784\uc6cc\ud06c\ub97c \uc0ac\uc6a9\uc911\uc774\uc2e0 \uacbd\uc6b0 \uc774 \ubd80\ubd84\uc740 \uac74\ub108\ub6f0\uc154\ub3c4 \ub429\ub2c8\ub2e4.",(0,n.kt)("br",{parentName:"p"}),"\n","\ud504\ub808\uc784\uc6cc\ud06c\uc5d0\uc11c\ub294 \uc790\ub3d9\uc73c\ub85c \uc801\uc808\ud55c \uad6c\uc870\ub85c \ub80c\ub354\ub9c1\ub429\ub2c8\ub2e4.",(0,n.kt)("br",{parentName:"p"}),"\n","\uc5d0\ub97c \ub4e4\uc5b4, React\uc758 \uacbd\uc6b0 \ub2e4\uc74c\uacfc \uac19\uc774 \uc791\uc131\ud588\uc744 \ub54c"),(0,n.kt)("pre",{parentName:"admonition"},(0,n.kt)("code",{parentName:"pre",className:"language-jsx"},'<View360 className="is-16by9" />\n')),(0,n.kt)("p",{parentName:"admonition"},"\uc774\ub807\uac8c \ub80c\ub354\ub9c1\ub429\ub2c8\ub2e4."),(0,n.kt)("pre",{parentName:"admonition"},(0,n.kt)("code",{parentName:"pre",className:"language-jsx"},'<div class="view360-container is-16by9">\n  <canvas class="view360-canvas" />\n</div>\n'))),(0,n.kt)("p",null,"View360\uc744 \uc0ac\uc6a9\ud558\uae30 \uc704\ud574\uc11c\ub294 \ub450 \uac1c\uc758 \uc5d8\ub9ac\uba3c\ud2b8\uac00 \ubc18\ub4dc\uc2dc \ud544\uc694\ud569\ub2c8\ub2e4."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\ucee8\ud14c\uc774\ub108 \uc5d8\ub9ac\uba3c\ud2b8(\uc5b4\ub5a4 \ud0dc\uadf8\ub4e0 \uc0c1\uad00\uc5c6\uc2b5\ub2c8\ub2e4)",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\ub514\ud3f4\ud2b8\ub85c ",(0,n.kt)("inlineCode",{parentName:"li"},"view360-container")," \ud074\ub798\uc2a4\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4."))),(0,n.kt)("li",{parentName:"ul"},"\uce94\ubc84\uc2a4 \uc5d8\ub9ac\uba3c\ud2b8(",(0,n.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas"},"<canvas",">"),")",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\ub514\ud3f4\ud2b8\ub85c ",(0,n.kt)("inlineCode",{parentName:"li"},"view360-canvas")," \ud074\ub798\uc2a4\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4.")))),(0,n.kt)("p",null,"\uac00\uc7a5 \uae30\ubcf8\uc801\uc778 \uad6c\uc870\ub294 \ub2e4\uc74c\uacfc \uac19\uc2b5\ub2c8\ub2e4."),(0,n.kt)("admonition",{type:"caution"},(0,n.kt)("p",{parentName:"admonition"},"View360\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 CSS \ud30c\uc77c\uc744 \uc0ac\uc6a9\ud558\uc2e4 \uacbd\uc6b0, \ube44\uc728\uc744 \uc124\uc815\ud558\uc9c0 \uc54a\uc744 \uacbd\uc6b0 \ud654\uba74\uc5d0 \uc544\ubb34\uac83\ub3c4 \ud45c\uc2dc\ub418\uc9c0 \uc54a\uac8c \ub429\ub2c8\ub2e4.",(0,n.kt)("br",{parentName:"p"}),"\n","\uc608\ub97c \ub4e4\uc5b4, \ub2e4\uc74c\uacfc \uac19\uc774 \ub9c8\ud06c\uc5c5\uc744 \uc124\uc815\ud560 \uacbd\uc6b0 \ud654\uba74\uc5d4 \uc544\ubb34\uac83\ub3c4 \ud45c\uc2dc\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),(0,n.kt)("pre",{parentName:"admonition"},(0,n.kt)("code",{parentName:"pre",className:"language-html"},'<div id="viewer" class="view360-container">\n  <canvas class="view360-canvas" />\n</div>\n')),(0,n.kt)("p",{parentName:"admonition"},"\uac71\uc815 \ub9c8\uc138\uc694, \ud074\ub798\uc2a4 \ud558\ub098\ub9cc \ucd94\uac00\ud558\uc2dc\uba74 \ub429\ub2c8\ub2e4.",(0,n.kt)("br",{parentName:"p"}),"\n","\uc544\ub798 \uc608\uc81c\uc5d0\uc11c\ub294 ",(0,n.kt)("inlineCode",{parentName:"p"},"is-16by9")," \ud074\ub798\uc2a4\ub97c \ucd94\uac00\ud574\uc11c \ubdf0\uc5b4\ub97c \uc804\ubd80 16:9 \ube44\uc728\ub85c \uc124\uc815\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4.",(0,n.kt)("br",{parentName:"p"}),"\n","\ud06c\uae30\uc640 \uad00\ub828\ub41c \uc790\uc138\ud55c \ub0b4\uc6a9\uc740 ",(0,n.kt)("a",{parentName:"p",href:"./styles#helper"},"\uc2a4\ud0c0\uc77c \uc124\uc815")," \ubb38\uc11c\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694.")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-html"},'\x3c!-- \ucee8\ud14c\uc774\ub108 \uc5d8\ub9ac\uba3c\ud2b8, "viewer"\ub85c id\ub97c \uc124\uc815\ud588\uc2b5\ub2c8\ub2e4. --\x3e\n<div id="viewer" class="view360-container is-16by9">\n  \x3c!-- \uce94\ubc84\uc2a4 \uc5d8\ub9ac\uba3c\ud2b8 --\x3e\n  <canvas class="view360-canvas" />\n</div>\n')),(0,n.kt)("p",null,"\uc2e4\uc81c\ub85c \uc704\uc640 \uac19\uc740 \ub9c8\ud06c\uc5c5\uc744 \ud45c\uc2dc\ud558\uba74 \ub2e4\uc74c\uacfc \uac19\uc2b5\ub2c8\ub2e4. (\uc601\uc5ed\uc744 \ud45c\uc2dc\ud558\uae30 \uc704\ud574 \uc758\ub3c4\uc801\uc73c\ub85c \ubc30\uacbd\uc0c9\uc744 \uc124\uc815\ud588\uc2b5\ub2c8\ub2e4.)"),(0,n.kt)("div",{className:"view360-container is-16by9",style:{backgroundColor:"#bbb"}},(0,n.kt)("canvas",{className:"view360-canvas"})),(0,n.kt)("p",null,"\uc601\uc5ed\ub9cc \uc124\uc815\ud588\uae30 \ub54c\ubb38\uc5d0, \uc544\uc9c1\uae4c\uc9c4 \uc544\ubb34\uac83\ub3c4 \ud45c\uc2dc\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.",(0,n.kt)("br",{parentName:"p"}),"\n","\uadf8\ub7fc \uc2e4\uc81c\ub85c View360\uc744 \ud574\ub2f9 \uc601\uc5ed\uc5d0 \uc62c\ub824 \ud30c\ub178\ub77c\ub9c8 \uc774\ubbf8\uc9c0\ub97c \ud45c\uc2dc\ud574\ubd05\uc2dc\ub2e4."),(0,n.kt)("p",null,"\ub2e4\ub9cc, \uadf8 \uc804\uc5d0 \uba3c\uc800 \ud655\uc778\ud574\ub450\uc5b4\uc57c \ud560 \uac83\uc774 \uc788\uc2b5\ub2c8\ub2e4."),(0,n.kt)("h2",{id:"\uc5b4\ub5a4-\ud504\ub85c\uc81d\uc158\uc744-\uc0ac\uc6a9\ud574\uc57c\ud560\uc9c0-\uc54c\uc544\ubd05\uc2dc\ub2e4"},"\uc5b4\ub5a4 \ud504\ub85c\uc81d\uc158\uc744 \uc0ac\uc6a9\ud574\uc57c\ud560\uc9c0 \uc54c\uc544\ubd05\uc2dc\ub2e4."),(0,n.kt)("p",null,"360 \uc774\ubbf8\uc9c0/\ube44\ub514\uc624\uc5d0\ub294 \ub2e4\uc591\ud55c \ud3ec\ub9f7\ub4e4\uc774 \uc788\uace0, View360\uc740 \uadf8\uc5d0 \ub300\uc751\ud558\ub294 ",(0,n.kt)("strong",{parentName:"p"},"Projection"),"\ub4e4\uc744 \uc81c\uacf5\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4."),(0,n.kt)("p",null,"\ud604\uc7ac View360\uc774 \uc81c\uacf5\ud558\ub294 Projection\ubcc4\ub85c \uc5b4\ub5a4 \ud615\ud0dc\uc758 \uc774\ubbf8\uc9c0\ub97c \uc0ac\uc6a9\ud558\ub294\uc9c0 \ud45c\uc2dc\ud558\uace0 \uc788\uc73c\ubbc0\ub85c, \uc774\ub97c \ud655\uc778\ud558\uc5ec \uc5b4\ub5a4 \uac83\uc744 \uc0ac\uc6a9\ud560\uc9c0 \uc120\ud0dd\ud558\uc2dc\uba74 \ub429\ub2c8\ub2e4."),(0,n.kt)("p",null,"\uc608\ub97c \ub4e4\uc5b4, \ub2e4\uc74c\uacfc \uac19\uc740 \ud615\ud0dc\uc758 \uc774\ubbf8\uc9c0\ub294 EquirectProjection\uc744 \uc0ac\uc6a9\ud574\uc11c \ub80c\ub354\ub9c1\ud574\uc57c \ud569\ub2c8\ub2e4."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"equirect",src:i(1557).Z,width:"3800",height:"1900"})),(0,n.kt)("p",null,"\uc790\uc138\ud55c \ub0b4\uc6a9\uc740 \uc544\ub798 \ub9c1\ud06c\ub97c \ucc38\uace0\ud574\uc8fc\uc138\uc694."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"./projections"},"\uc0ac\uc6a9 \uac00\ub2a5\ud55c Projection\ub4e4"))),(0,n.kt)("admonition",{type:"info"},(0,n.kt)("p",{parentName:"admonition"},"\ub300\ud45c\uc801\uc778 \ud3ec\ub9f7\ub4e4\uc740 View360\uc5d0\uc11c \uc9c0\uc6d0\ud558\uace0 \uc788\uc73c\ubbc0\ub85c \uadf8\uac83\ub4e4\uc744 \uc0ac\uc6a9\ud558\uba74 \ub418\uc9c0\ub9cc, \uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 \ud3ec\ub9f7\ub4e4\ub3c4 \uc788\uc2b5\ub2c8\ub2e4.",(0,n.kt)("br",{parentName:"p"}),"\n","\ub9cc\uc57d \uc9c0\uc6d0\uc774 \ub418\uc9c0 \uc54a\ub294\ub2e4\uba74 ",(0,n.kt)("a",{parentName:"p",href:"https://ffmpeg.org/"},"ffmpeg"),"\ub97c \uc774\uc6a9\ud574\uc11c \uc9c0\uc6d0\ub418\ub294 \ud3ec\ub9f7\uc73c\ub85c \ubcc0\uacbd\ud558\uc2dc\uac70\ub098, \uc800\ud76c\uc5d0\uac8c ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/naver/egjs-view360/issues/new"},"\uc774\uc288"),"\ub97c \ub0a8\uaca8\uc8fc\uc138\uc694."),(0,n.kt)("ul",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ul"},"ffmpeg\uc5d0\uc11c \uc9c0\uc6d0\ud558\ub294 360 \ud3ec\ub9f7\ub4e4: ",(0,n.kt)("a",{parentName:"li",href:"https://ffmpeg.org/ffmpeg-filters.html#v360"},"https://ffmpeg.org/ffmpeg-filters.html#v360")))),(0,n.kt)("h2",{id:"\uc774\ubbf8\uc9c0\ub97c-\ud45c\uc2dc\ud574\ubd05\uc2dc\ub2e4---1-\ubc88\ub4e4\ub7ec\ub97c-\uc0ac\uc6a9\ud558\ub294-\uacbd\uc6b0"},"\uc774\ubbf8\uc9c0\ub97c \ud45c\uc2dc\ud574\ubd05\uc2dc\ub2e4 - 1. \ubc88\ub4e4\ub7ec\ub97c \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://webpack.js.org/"},"Webpack"),"\uc774\ub098 ",(0,n.kt)("a",{parentName:"p",href:"https://rollupjs.org/guide/en/"},"Rollup"),"\uac19\uc740 \ubc88\ub4e4\ub7ec\ub97c \uc0ac\uc6a9\ud558\uac70\ub098, \ube0c\ub77c\uc6b0\uc800\uc758 ",(0,n.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules"},"\ub124\uc774\ud2f0\ube0c JS module \ubc29\uc2dd"),"(",(0,n.kt)("inlineCode",{parentName:"p"},'script type="module"'),") \ub4f1 \ubaa8\ub4c8 \ubc29\uc2dd\uc73c\ub85c View360\uc744 \uc0ac\uc6a9\ud558\uc2dc\ub294 \uacbd\uc6b0 View360\uc744 \uc9c1\uc811 import\ud574\uc11c \ub2e4\uc74c\uacfc \uac19\uc774 \uc0ac\uc6a9\ud558\uc2e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-js"},'import View360, { EquirectProjection } from "@egjs/view360";\n\n// \uc544\ub798\ucc98\ub7fc \ucee8\ud14c\uc774\ub108 \uc5d8\ub9ac\uba3c\ud2b8\ub97c \uc120\ud0dd\ud558\ub294 CSS Selector\ub97c \uc0ac\uc6a9\ud558\uac70\ub098 (#viewer)\n// \ud639\uc740 \uc9c1\uc811 HTMLElement\ub97c \uc0ac\uc6a9\ud574\ub3c4 \ub429\ub2c8\ub2e4. (document.getElementById("viewer"))\nconst viewer = new View360("#viewer", {\n  // Equirectangular projection\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4\n  projection: new EquirectProjection({\n    // \uc774\ubbf8\uc9c0 URL\uc744 \uc9c0\uc815\ud574\uc8fc\uc138\uc694\n    src: "URL_TO_IMAGE",\n    // \uc774\ubbf8\uc9c0\ub97c \uc0ac\uc6a9\ud558\ubbc0\ub85c false\uc785\ub2c8\ub2e4\n    video: false\n  })\n});\n')),(0,n.kt)("p",null,"\uc544\ub798\uc640 \uac19\uc774 \ud45c\uc2dc\ub418\uba74 \uc815\uc0c1\uc785\ub2c8\ub2e4."),(0,n.kt)(r.ZP,{showControlBar:!1,showSpinner:!1,projectionOptions:{src:"/pano/equirect/equi.jpg"},projectionType:"equirect",mdxType:"View360"}),(0,n.kt)("h2",{id:"\uc774\ubbf8\uc9c0\ub97c-\ud45c\uc2dc\ud574\ubd05\uc2dc\ub2e4---2-cdn-\uc2a4\ud06c\ub9bd\ud2b8\ub97c-\uc0ac\uc6a9\ud558\ub294-\uacbd\uc6b0"},"\uc774\ubbf8\uc9c0\ub97c \ud45c\uc2dc\ud574\ubd05\uc2dc\ub2e4 - 2. CDN \uc2a4\ud06c\ub9bd\ud2b8\ub97c \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0"),(0,n.kt)("p",null,"CDN \ub9c1\ud06c\ub97c \uc774\uc6a9\ud574\uc11c ",(0,n.kt)("inlineCode",{parentName:"p"},"<script>")," \ud0dc\uadf8\ub97c \ud1b5\ud574 View360\uc744 \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0, View360\uc740 UMD \ubaa8\ub4c8\ub85c \ub85c\ub4dc\ub429\ub2c8\ub2e4."),(0,n.kt)("p",null,"\uc774 \uacbd\uc6b0 \uc0ac\uc6a9\ubc95\uc774 \ub2e4\uc74c\uacfc \uac19\uc774 \ubcc0\uacbd\ub429\ub2c8\ub2e4."),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"View360\uc774 ",(0,n.kt)("inlineCode",{parentName:"li"},"View360"),"\uc774\ub77c\ub294 \uc774\ub984\uc758 \uc804\uc5ed \ubcc0\uc218\ub85c \ub4f1\ub85d\ub429\ub2c8\ub2e4."),(0,n.kt)("li",{parentName:"ol"},"Export\ub418\ub294 \ub2e4\ub978 \ubaa8\ub4e0 \ubcc0\uc218\ub098 \ud504\ub85c\uc81d\uc158 \ub4f1\uc740 ",(0,n.kt)("inlineCode",{parentName:"li"},"View360.XXX")," \ud615\ud0dc\ub85c \uc811\uadfc \uac00\ub2a5\ud569\ub2c8\ub2e4.")),(0,n.kt)("p",null,"\uae30\ud0c0 \uc0ac\uc6a9\ubc29\ubc95\uc740 \ub3d9\uc77c\ud558\uba70, \uc544\ub798\ub294 \uc608\uc2dc\uc785\ub2c8\ub2e4."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-html"},'<head>\n  \x3c!-- View360\uc744 \uc2a4\ud06c\ub9bd\ud2b8 \ud0dc\uadf8\ub97c \uc774\uc6a9\ud574\uc11c \ub85c\ub4dc\ud569\ub2c8\ub2e4 --\x3e\n  <script src="https://naver.github.io/egjs-view360/release/latest/dist/view360.pkgd.min.js"><\/script>\n</head>\n')),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-js"},'// View360\uc740 \uae00\ub85c\ubc8c\uc5d0 \ub4f1\ub85d\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4.\nconst viewer = new View360("#viewer", {\n  // EquirectProjection \ubc0f \uae30\ud0c0 \ubaa8\ub4e0 \ud56d\ubaa9\ub4e4\uc774 View360 \ub0b4\uc758 \ud504\ub85c\ud37c\ud2f0\ub85c \uc800\uc7a5\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4.\n  projection: new View360.EquirectProjection({\n    src: "URL_TO_IMAGE",\n    video: false\n  })\n});\n')),(0,n.kt)("h2",{id:"\uc635\uc158-\uc124\uc815\ud558\uae30-\uc774\ubca4\ud2b8-\ub4e3\uae30-\ud50c\ub7ec\uadf8\uc778-\ucd94\uac00\ud558\uae30-"},"\uc635\uc158 \uc124\uc815\ud558\uae30, \uc774\ubca4\ud2b8 \ub4e3\uae30, \ud50c\ub7ec\uadf8\uc778 \ucd94\uac00\ud558\uae30 ..."),(0,n.kt)("p",null,"\uc774\uc81c \uae30\ubcf8\uc801\uc778 \ud45c\uc2dc\ub294 \ub9c8\ucce4\uc73c\ub2c8, \uc6d0\ud558\ub294\ub300\ub85c \ucee4\uc2a4\ud130\ub9c8\uc774\uc9d5 \ud560 \ucc28\ub840\uc785\ub2c8\ub2e4.",(0,n.kt)("br",{parentName:"p"}),"\n","View360\uc740 \uce74\uba54\ub77c, \ucee8\ud2b8\ub864 \ub4f1\uc744 \uc790\uc720\ub86d\uac8c \uc124\uc815 \uac00\ub2a5\ud558\ub3c4\ub85d \ub2e4\uc591\ud55c \uc635\uc158\uc744 \uc81c\uacf5\ud558\uace0 \uc788\uc73c\uba70, \uac01 \uc0c1\ud669\uc5d0 \ud2b8\ub9ac\uac70\ub418\ub294 \uc774\ubca4\ud2b8\ub97c \uc774\uc6a9\ud574\uc11c \uc6d0\ud558\ub294 \ub3d9\uc791\uc744 \uad6c\ud604\ud558\uc2e4 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4."),(0,n.kt)("p",null,"\ub610\ud55c, \uae30\ubcf8\uc801\uc778 UI\ub098 \uae30\ud0c0 \uae30\ub2a5\uc744 \uc81c\uacf5\ud558\ub294 \ud50c\ub7ec\uadf8\uc778\ub3c4 \uc874\uc7ac\ud569\ub2c8\ub2e4."),(0,n.kt)("p",null,"\ub2e4\uc74c \ubb38\uc11c\ub4e4\uc744 \ud655\uc778\ud574\ubcf4\uc138\uc694."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"./options"},"\uc635\uc158")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"./events"},"\uc774\ubca4\ud2b8")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"./plugins"},"\ud50c\ub7ec\uadf8\uc778")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"./projections"},"\ud504\ub85c\uc81d\uc158 \ud0c0\uc785\ub4e4"))),(0,n.kt)("p",null,"\ub610\ud55c, \uc0ac\uc774\ub4dc\ubc14\uc758 \ub2e4\ub978 \ud29c\ud1a0\ub9ac\uc5bc \ubb38\uc11c\ub4e4\ub3c4 \ud655\uc778\ud574\ubcf4\uc138\uc694."),(0,n.kt)("p",null,"\uad81\uae08\ud558\uc2e0 \uc810\uc774\ub098 \ud544\uc694\ud55c \uae30\ub2a5 \ud639\uc740 \uc81c\ubcf4\ud560 \ubc84\uadf8\uac00 \uc788\ub2e4\uba74 \uc5b8\uc81c\ub4e0\uc9c0 ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/naver/egjs-view360/issues/new"},"Github \uc774\uc288"),"\uc5d0 \uc62c\ub824\uc8fc\uc138\uc694."))}_.isMDXComponent=!0},459:(e,t,i)=>{i.d(t,{Z:()=>s});const s="#define GLSLIFY 1\nuniform sampler2D uTexture;\n\nvarying highp vec2 vUV;\n\nvoid main() {\n  gl_FragColor = texture2D(uTexture, vUV.st);\n}\n"},5846:(e,t,i)=>{i.d(t,{Z:()=>s});const s="#define GLSLIFY 1\nattribute vec3 position;\nattribute vec2 uv;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\n\nvarying highp vec2 vUV;\n\nvoid main() {\n  vUV = uv;\n  gl_Position = uPMatrix * uMVMatrix * vec4(position, 1.0);\n}\n"},1557:(e,t,i)=>{i.d(t,{Z:()=>s});const s=i.p+"assets/images/equi-db91ac44ce4dcef8e6b9a1e1bb6865b0.jpg"}}]);